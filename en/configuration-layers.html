<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="Audience - do not use" content=""></meta><meta name="clubot" content=""></meta><meta name="data model" content=""></meta><meta name="DxP type - Do Not Use" content=""></meta><meta name="media_icon" content=""></meta><meta name="product" content="XM Cloud"></meta><meta name="Publishing target" content="Production"></meta><meta name="Ready for publishing - do not use" content=""></meta><meta name="role" content="developers"></meta><meta name="topic_tripane" content=""></meta><meta name="version" content=""></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
					function addSearch(){
					//not used with custom or elastic search
					}
				</script><title>Configuration layers</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/content-theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="/css/sitecore-custom-default-xmc.css?version=20230630"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js?version=20230630" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js?version=20230630" type="text/javascript"></script><script src="../js/html5-2.js?version=20230630" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="/js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="description" content="Sitecore configuration files are placed into different layers in order to control load order."></meta><meta name="keywords" content="Configuration, Installation, xDB"></meta><link rel="prev" href="disable-blocking-of-svg-files-with-javascript-code.html" title="Disable blocking of SVG files with JavaScript code"></link><link rel="next" href="configuration-layers.html#idm45599237765328" title="Layer definitions"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script><script type="text/javascript">var privacypolicy = 'https://www.sitecore.com/trust/privacy-policy';
var consenttype = 'opt-out';
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-72664331-1"></script><script type="text/javascript">const measurementId = 'UA-72664331-1';

						$(document).on('cookies.consented', () => {
							window.dataLayer = window.dataLayer || [];
							function gtag(){dataLayer.push(arguments)};

							gtag('js', new Date());
							gtag('config', measurementId);
						});
					</script><script type="text/javascript" src="../js/cookie-consent.js"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><link href="//customer.cludo.com/assets/2063/10039/cludo-search.min.css" type="text/css" rel="stylesheet"></link></head><body class="theme1 colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="https://doc.sitecore.com/xmc/" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="navbar-collapse collapse" id="navbar"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside xmlns:xinfo="http://ns.expertinfo.se/cms/xmlns/1.0" class="site-sidebar"><div class="site-sidebar-header"><a href="https://doc.sitecore.com/xmc/" target="_blank"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form id="search-form" class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="index-en.html">XM Cloud Documentation for Developers</a></li><li class="breadcrumb-link"><a href="xm-cloud-development.html">XM Cloud development</a></li><li class="breadcrumb-link"><a href="miscellaneous-development-tasks.html">Miscellaneous development tasks</a></li><li class="breadcrumb-node">Configuration layers</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="disable-blocking-of-svg-files-with-javascript-code.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="configuration-layers.html#idm45599237765328">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section taxonomy-audience---do-not-use-administrator taxonomy-audience---do-not-use-developer original-topic" data-origin-id="UUID-55ac2495-d7aa-f516-80ba-e9366b9c49ad" data-permalink="configuration-layers.html" data-topic-level="1" data-relative-prefix="" data-time-modified="09/23/2022" data-publication-date="06/30/23" id="UUID-79e65ece-e603-5969-7ab9-c6364fd13210"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Configuration layers</h1></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Sitecore configuration files are placed into different layers in order to control load order.</p></div></div></div></div><p><span class="phrase">XM Cloud</span> divides configuration files into layers. Each layer consists of a dedicated folder under the <span class="italic">App_config</span> folder. By default, there are four layers:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span xml:lang="en" lang="en" dir="ltr" class="italic">Sitecore</span></p></li><li class="listitem"><p><span xml:lang="en" lang="en" dir="ltr" class="italic">Modules</span></p></li><li class="listitem"><p><span xml:lang="en" lang="en" dir="ltr" class="italic">Custom</span></p></li><li class="listitem"><p><span xml:lang="en" lang="en" dir="ltr" class="italic">Environment</span></p></li></ul></div><p>Each layer influences a specific area of functionality.</p><p>The configuration files are divided into layers in order to:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Give you better control over <a class="link" href="configuration-layers.html#UUID-79e65ece-e603-5969-7ab9-c6364fd13210_id__The_load_order" title="The load order of configuration files">when files are loaded at runtime</a>.</p></li><li class="listitem"><p>Allow you to <a class="link linktype-component" href="disable-a-patch-file.html" title="Disable a patch file">disable all configuration files in a layer</a> at once.</p></li></ul></div><section dir="ltr" class="section internal accordion" data-origin-id="" data-publication-date="06/30/23" id="idm45599237765328"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#idm45599237765328_body" data-parent="#idm45599237765328"><div><div class="title"><h2 class="title" style="clear: both">Layer definitions</h2></div></div></a></div></div><div class="panel-body collapse" id="idm45599237765328_body"><p><span class="phrase">XM Cloud</span> defines the layers and the order in which they load at runtime in the <code class="code">Website/App_Config/layers.config</code> file.</p><p>The following table describes the default layers, and where their configurations are stored. All folders are placed under the <span class="italic">Website/App_Config</span> folder.</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><thead><tr><th class="th"><p><span xml:lang="en" lang="en" dir="ltr" class="guilabel">Layer</span></p></th><th class="th"><p><span xml:lang="en" lang="en" dir="ltr" class="guilabel">Config section</span></p></th><th class="th"><p><span xml:lang="en" lang="en" dir="ltr" class="guilabel">Folder</span></p></th><th class="th"><p><span xml:lang="en" lang="en" dir="ltr" class="guilabel">Description</span></p></th></tr></thead><tbody><tr><td class="td"><p>Sitecore</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="code">&lt;layer name="Sitecore" includefolder = "/App_config/Sitecore/"&gt;</code></p></td><td class="td"><p><span xml:lang="en" lang="en" dir="ltr" class="italic">Sitecore</span></p></td><td class="td"><p>Reserved for Sitecore use.</p><p>Contains configuration files for standard Sitecore components and features.</p><p>You must not change the order in which configuration files load in this layer, because components are dependent on each other. Changing the default load order can cause components to stop working.</p></td></tr><tr><td class="td"><p>Modules</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="code">&lt;layer name="Modules" includefolder = "/App_config/Modules /"&gt;</code></p></td><td class="td"><p><span xml:lang="en" lang="en" dir="ltr" class="italic">Modules</span></p></td><td class="td"><p>Reserved for Sitecore use.</p><p>Contains configuration files for official <span class="phrase">XM Cloud</span> modules.</p><p>When you install a module, its configuration files are added to its associated folder under the <span class="italic">Modules</span> folder. In addition, the <code class="code">layers.config</code> file is updated with the module's load order and the path to the module's configuration folder. By default, modules load in the order they were installed.</p></td></tr><tr><td class="td"><p>Custom</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="code">&lt;layer name="Custom" includefolder = "/App_config/Include /"&gt;</code></p></td><td class="td"><p><span xml:lang="en" lang="en" dir="ltr" class="italic">Include</span></p></td><td class="td"><p>Contains the patch files you create in order to modify settings in the default <span class="phrase">XM Cloud</span> configuration.</p></td></tr><tr><td class="td"><p>Environment</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="code">&lt;layer name="Environment" includefolder = "/App_config/Environment /"&gt;</code></p></td><td class="td"><p><span xml:lang="en" lang="en" dir="ltr" class="italic">Environment</span></p></td><td class="td"><p>Contains the patch files you create to configure <span class="phrase">XM Cloud</span> for different environments, such as QA, production, or development.</p><p>For example, in a development environment, you can add patch files that enable additional logging information.</p></td></tr></tbody></table></div><p>To change <span class="phrase">XM Cloud</span> settings, you can place <a class="link linktype-component" href="use-a-patch-file-to-customize-the-sitecore-configuration.html" title="Use a patch file to customize the Sitecore configuration">patch files </a>in the Custom and Environment layers.</p><div dir="ltr" class="important important"><h3 class="title">Important</h3><p>You must not modify or add files in the Sitecore or Modules layers. Changes to files in these layers can affect the stability of the platform and can be lost during an upgrade</p></div></div></div></section><section dir="ltr" class="section internal accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-79e65ece-e603-5969-7ab9-c6364fd13210_id__The_load_order"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-79e65ece-e603-5969-7ab9-c6364fd13210_id__The_load_order_body" data-parent="#UUID-79e65ece-e603-5969-7ab9-c6364fd13210_id__The_load_order"><div><div class="title"><h2 class="title" style="clear: both">The load order of configuration files</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-79e65ece-e603-5969-7ab9-c6364fd13210_id__The_load_order_body"><p>By default, <span class="phrase">XM Cloud</span> loads its configuration files in this order:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Basic system files, such as <code class="code">layers.config, ConnectionStrings.config,</code> and <code class="code">web.config</code>.</p></li><li class="step"><p>Configuration files in the Sitecore layer.</p></li><li class="step"><p>Configuration files in the Modules layer.</p></li><li class="step"><p>Configuration files in the Custom layer.</p></li><li class="step"><p>Configuration files in the Environment layer.</p></li></ol></div><div dir="ltr" class="important important"><h3 class="title">Important</h3><p>Do not change the order in which the layers load.</p></div><p>Within each layer, by default, <span class="phrase">XM Cloud</span> goes through all the subfolders in the layer recursively and loads the files in each subfolder in alphabetical order. Files in the root of a folder are merged before files in subfolders within the folder. For example, the file <code class="code">/App_Config/Include/mywebsite9.config</code> loads before the file <code class="code">/App_Config/Include/Myfolder/mywebsite1.config</code>.</p><p>If you want more control over the sequence in which your patch files load, you can add a &lt;loadOrder&gt; setting <a class="link linktype-component" href="use-a-patch-file-to-customize-the-sitecore-configuration.html" title="Use a patch file to customize the Sitecore configuration">to the layer</a>.</p></div></div></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-79e65ece-e603-5969-7ab9-c6364fd13210">Configuration layers</a></li><li><a href="#idm45599237765328">Layer definitions</a></li><li><a href="#UUID-79e65ece-e603-5969-7ab9-c6364fd13210_id__The_load_order">The load order of configuration files</a></li></ul></aside></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="disable-blocking-of-svg-files-with-javascript-code.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="configuration-layers.html#idm45599237765328">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> Â© 2023 Sitecore </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">09/23/2022</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date">06/30/23</span></div></div></footer></div></div></div></div><script type="text/javascript" src="//customer.cludo.com/scripts/bundles/search-script.min.js"></script><script>
			var CludoSearch;
			(function () {
			var cludoSettings = {
			customerId: 2063,
			engineId: 12826,
			language: 'en',
			searchInputs: ["search-form","cludo-search-content-form","cludo-search-mobile-form"],
			hideSearchFilters: true,
			type: 'standardOverlay',
			facets: ["Category", "ProductVer", "Product", "Version"],
			useStandardSearchTemplate: false,
			customerTemplate: "OverlayCopy",
			searchApiUrl: 'https://api-eu1.cludo.com/api/v3'
			};
			CludoSearch= new Cludo(cludoSettings);
			CludoSearch.init();
			})();
		</script><!-- www.Cludo.com Search body init script start --></body></html>
