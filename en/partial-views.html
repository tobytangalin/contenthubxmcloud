<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="Audience - do not use" content=""></meta><meta name="clubot" content=""></meta><meta name="data model" content=""></meta><meta name="DxP type - Do Not Use" content=""></meta><meta name="media_icon" content=""></meta><meta name="product" content="XM Cloud"></meta><meta name="Publishing target" content="Production"></meta><meta name="Ready for publishing - do not use" content=""></meta><meta name="role" content="developers"></meta><meta name="topic_tripane" content=""></meta><meta name="version" content=""></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
					function addSearch(){
					//not used with custom or elastic search
					}
				</script><title>Partial views</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/content-theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="/css/sitecore-custom-default-xmc.css?version=20230630"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js?version=20230630" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js?version=20230630" type="text/javascript"></script><script src="../js/html5-2.js?version=20230630" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="/js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="description" content="Overview of the Sitecore ASP.NET Rendering SDK partial views configuration and content access functionality."></meta><link rel="prev" href="view-components.html#idm45599350711568" title="Configuring view components"></link><link rel="next" href="partial-views.html#UUID-52d04633-b8b3-1172-2d03-09c685b74816_section-idm23178724171733" title="Configuring partial views"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script><script type="text/javascript">var privacypolicy = 'https://www.sitecore.com/trust/privacy-policy';
var consenttype = 'opt-out';
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-72664331-1"></script><script type="text/javascript">const measurementId = 'UA-72664331-1';

						$(document).on('cookies.consented', () => {
							window.dataLayer = window.dataLayer || [];
							function gtag(){dataLayer.push(arguments)};

							gtag('js', new Date());
							gtag('config', measurementId);
						});
					</script><script type="text/javascript" src="../js/cookie-consent.js"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><link href="//customer.cludo.com/assets/2063/10039/cludo-search.min.css" type="text/css" rel="stylesheet"></link></head><body class="theme1 colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="https://doc.sitecore.com/xmc/" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="navbar-collapse collapse" id="navbar"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside xmlns:xinfo="http://ns.expertinfo.se/cms/xmlns/1.0" class="site-sidebar"><div class="site-sidebar-header"><a href="https://doc.sitecore.com/xmc/" target="_blank"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form id="search-form" class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="index-en.html">XM Cloud Documentation for Developers</a></li><li class="breadcrumb-link"><a href="sitecore-asp-net-rendering-sdk-api.html">Sitecore ASP.NET Rendering SDK API</a></li><li class="breadcrumb-link"><a href="view-types.html">View types</a></li><li class="breadcrumb-node">Partial views</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="view-components.html#idm45599350711568">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="partial-views.html#UUID-52d04633-b8b3-1172-2d03-09c685b74816_section-idm23178724171733">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-0b58a7c6-df6d-56a7-856b-cf0d2e30cae1" data-permalink="partial-views.html" data-topic-level="1" data-relative-prefix="" data-time-modified="04/08/2022" data-publication-date="06/30/23" id="UUID-52d04633-b8b3-1172-2d03-09c685b74816"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Partial views<span id="UUID-52d04633-b8b3-1172-2d03-09c685b74816_UUID-b59ce2de-32d0-ae8f-8ef8-f824eb65991e"></span></h1></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Overview of the Sitecore ASP.NET Rendering SDK partial views configuration and content access functionality.</p></div></div></div></div><p>A partial view renders HTML output within another view's rendered output. You use the term <span class="emphasis"><em>partial view</em></span> when developing either an <a class="link" href="http://asp.net/" target="_blank" rel="noopener">ASP.NET</a> Model-View-Controller (MVC) app, where markup files are called <span class="emphasis"><em>views</em></span>, or a Razor Pages app, where markup files are called <span class="emphasis"><em>pages</em></span>. See <a class="link" href="https://docs.microsoft.com/en-us/aspnet/core/mvc/views/partial?view=aspnetcore-3.1" target="_blank" rel="noopener">the Microsoft documentation on partial views</a> for more details.</p><p>The Sitecore Rendering Engine SDK uses MVC partial views for the lightweight components that make a Sitecore page. For example, structural components that contain just placeholders.</p><p>Creating partial views in a Sitecore rendering host application follows <a class="link" href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" target="_blank" rel="noopener">the standard MVC conventions</a>. Similarly, partial view discovery in a Sitecore rendering host follows the standard rules in <a class="link" href="https://docs.microsoft.com/en-us/aspnet/core/mvc/overview?view=aspnetcore-3.1" target="_blank" rel="noopener">ASP.NET Core MVC</a>.</p><p>You must map the Layout Service response to the partial view. These mappings are configured in the <code class="code">ConfigureServices()</code> method in the <code class="code">Startup</code> class.</p><div xml:lang="en" lang="en" dir="ltr" class="sidebar" id="UUID-52d04633-b8b3-1172-2d03-09c685b74816_UUID-8c1e6f9b-9a14-da63-0bcb-6df8f72a4675"><p>The mapping predicates order is dictated by the order of the extension method calls. We recommend that specific mapping predicates are added before the greediest mapping predicates.</p></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="UUID-52d04633-b8b3-1172-2d03-09c685b74816_section-idm23178724171733"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Configuring partial views</h2></div></div></div><p>When you have created your partial view, you must map the Layout Service response to the partial view with <a class="link linktype-component" href="asp-net-core-rendering-engine.html" title="ASP.NET Core Rendering Engine">the AddPartialView&lt;TModel&gt;() and AddDefaultPartialView() extension methods</a>.</p><p>In this example, <code class="code">AddPartialView("HeaderBlock", "_HeaderBlock")</code> maps the <code class="code">HeaderBlock</code> response component to the  <code class="code">_HeaderBlock</code> partial view, <code class="code">AddPartialView(name =&gt; name.StartsWith("sc"), "_OtherBlock")</code> maps all response components prefixes with <code class="code">sc</code> to the <code class="code">_OtherBlock</code> partival view, and <code class="code">AddDefaultPartialView("_ComponentNotFound")</code> maps any response component unmatched by the previous two method calls to the <code class="code">_ComponentNotFound</code> default partial view:</p><pre class="programlisting">public void ConfigureServices(IServiceCollection services)
{
  var renderingEngineBuilder = services.AddSitecoreRenderingEngine(options =&gt;
    options

      // Map Partials
      .AddPartialView("HeaderBlock", "_HeaderBlock")
      .AddPartialView(name =&gt; name.StartsWith("sc"), "_OtherBlock")

      // Add fallback for any other component
      .AddDefaultPartialView("_ComponentNotFound");
  );
}</pre></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="UUID-52d04633-b8b3-1172-2d03-09c685b74816_section-idm231787248010094"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Accessing Sitecore content from partial view Razor views</h2></div></div></div><p>You can add a code block in the Razor view to access Layout Service data:</p><pre class="programlisting">@using MyRenderingHost.ViewModels;
@using Sitecore.LayoutService.Client.Response.Model.Fields

@{
  var route = this.SitecoreRoute();
  var context = this.SitecoreContext();
  var component = this.SitecoreComponent().ReadFields&lt;ContentBlock&gt;();
  var pageTitleField = route.ReadField&lt;TextField&gt;("pageTitle");
}

&lt;section&gt;
  &lt;h1 asp-for="@pageTitleField"&gt;&lt;/h1&gt;
  &lt;h2&gt;Site name: @context.Site.Name&lt;/h1&gt;
  &lt;h2&gt;Route name: @route.Name&lt;/h1&gt;
  &lt;h2 asp-for="@component.Heading"&gt;&lt;/h2&gt;
  &lt;div&gt;
    &lt;sc-text asp-for="@component.Content"&gt;&lt;/sc-text&gt;
  &lt;/div&gt;
&lt;/section&gt;</pre><p>You can read content from the Layout Service result here, but you cannot use model binding to read values. If you need to access route, context, or component values in your partial view, consider using a model-bound view or view component instead.</p><div xml:lang="en" lang="en" dir="ltr" class="sidebar" id="UUID-52d04633-b8b3-1172-2d03-09c685b74816_UUID-29243eb0-d11c-1b85-1642-45c22c7c9bc5"><div dir="ltr" class="note"><h3 class="title">Note</h3><p>You find the Razor page extensions in the <code class="code">Sitecore.AspNet.RenderingEngine.Extensions</code> namespace:</p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p><code class="code">SitecoreRoute()</code> - get the current Sitecore <code class="code">Route</code> object.</p></li><li class="listitem"><p><code class="code">SitecoreContext()</code> - get the current Sitecore <code class="code">Context</code> object.</p></li><li class="listitem"><p><code class="code">SitecoreComponent()</code> - get the current Sitecore <code class="code">Component</code> object.</p></li></ul></div></div></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="UUID-52d04633-b8b3-1172-2d03-09c685b74816_section-idm231787252457925"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Migrating from partial view to view component</h2></div></div></div><p>Sometimes a partial view requires access to data from the Layout Service response. This can be an indication that the partial view has become more complex than intended. In this case, we recommend that you use a model-bound view component instead.</p><p>Fortunately, migrating from a partial view to a model-bound view component is very simple:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>You create a view model with the required Layout Service response properties.</p></li><li class="listitem"><p>In the <code class="code">Startup</code> class, you replace the registration of the partial view with a model-bound view component registration.</p></li><li class="listitem"><p>You ensure that the Razor view is placed in the <code class="code">/Views/Shared/Components/SitecoreComponent</code> folder.</p></li></ul></div></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-52d04633-b8b3-1172-2d03-09c685b74816">Partial views</a></li><li><a href="#UUID-52d04633-b8b3-1172-2d03-09c685b74816_section-idm23178724171733">Configuring partial views</a></li><li><a href="#UUID-52d04633-b8b3-1172-2d03-09c685b74816_section-idm231787248010094">Accessing Sitecore content from partial view Razor views</a></li><li><a href="#UUID-52d04633-b8b3-1172-2d03-09c685b74816_section-idm231787252457925">Migrating from partial view to view component</a></li></ul></aside></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="view-components.html#idm45599350711568">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="partial-views.html#UUID-52d04633-b8b3-1172-2d03-09c685b74816_section-idm23178724171733">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023 Sitecore </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">04/08/2022</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date">06/30/23</span></div></div></footer></div></div></div></div><script type="text/javascript" src="//customer.cludo.com/scripts/bundles/search-script.min.js"></script><script>
			var CludoSearch;
			(function () {
			var cludoSettings = {
			customerId: 2063,
			engineId: 12826,
			language: 'en',
			searchInputs: ["search-form","cludo-search-content-form","cludo-search-mobile-form"],
			hideSearchFilters: true,
			type: 'standardOverlay',
			facets: ["Category", "ProductVer", "Product", "Version"],
			useStandardSearchTemplate: false,
			customerTemplate: "OverlayCopy",
			searchApiUrl: 'https://api-eu1.cludo.com/api/v3'
			};
			CludoSearch= new Cludo(cludoSettings);
			CludoSearch.init();
			})();
		</script><!-- www.Cludo.com Search body init script start --></body></html>
