<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="Audience - do not use" content=""></meta><meta name="clubot" content=""></meta><meta name="data model" content=""></meta><meta name="DxP type - Do Not Use" content=""></meta><meta name="media_icon" content=""></meta><meta name="product" content="XM Cloud"></meta><meta name="Publishing target" content="Production"></meta><meta name="Ready for publishing - do not use" content=""></meta><meta name="role" content="developers"></meta><meta name="topic_tripane" content=""></meta><meta name="version" content=""></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
					function addSearch(){
					//not used with custom or elastic search
					}
				</script><title>Working with databases</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/content-theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="/css/sitecore-custom-default-xmc.css?version=20230630"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js?version=20230630" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js?version=20230630" type="text/javascript"></script><script src="../js/html5-2.js?version=20230630" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="/js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="description" content="How to access XM databases using the APIs."></meta><link rel="prev" href="sitecore-item-api.html" title="Sitecore Item API"></link><link rel="next" href="working-with-databases.html#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-17c8a9c0-64d7-4ad1-531b-b9a0cb92db45" title="Accessing the content database"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script><script type="text/javascript">var privacypolicy = 'https://www.sitecore.com/trust/privacy-policy';
var consenttype = 'opt-out';
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-72664331-1"></script><script type="text/javascript">const measurementId = 'UA-72664331-1';

						$(document).on('cookies.consented', () => {
							window.dataLayer = window.dataLayer || [];
							function gtag(){dataLayer.push(arguments)};

							gtag('js', new Date());
							gtag('config', measurementId);
						});
					</script><script type="text/javascript" src="../js/cookie-consent.js"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><link href="//customer.cludo.com/assets/2063/10039/cludo-search.min.css" type="text/css" rel="stylesheet"></link></head><body class="theme1 colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="https://doc.sitecore.com/xmc/" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="navbar-collapse collapse" id="navbar"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside xmlns:xinfo="http://ns.expertinfo.se/cms/xmlns/1.0" class="site-sidebar"><div class="site-sidebar-header"><a href="https://doc.sitecore.com/xmc/" target="_blank"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form id="search-form" class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="index-en.html">XM Cloud Documentation for Developers</a></li><li class="breadcrumb-link"><a href="xm-cloud-development.html">XM Cloud development</a></li><li class="breadcrumb-link"><a href="sitecore-item-api.html">Sitecore Item API</a></li><li class="breadcrumb-node">Working with databases</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="sitecore-item-api.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="working-with-databases.html#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-17c8a9c0-64d7-4ad1-531b-b9a0cb92db45">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-8048af0a-7545-8be5-8372-d9bed1bd8d42" data-permalink="working-with-databases.html" data-topic-level="1" data-relative-prefix="" data-time-modified="10/04/2022" data-publication-date="06/30/23" id="UUID-f563750b-de19-5775-aa60-3c3ec8701ff7"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Working with databases<span id="UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-e0f7eb1e-c986-84f4-94ce-9bacbdd23ffd"></span></h1></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>How to access XM databases using the APIs.</p></div></div></div></div><p>You can use the <code class="code">Sitecore.Data.Database</code> class to access Experience Manager databases. A default <span class="phrase">XM Cloud</span> configuration includes these databases:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Master </strong></span>- Contains all versions of all content supporting CMS users.</p></li><li class="listitem"><p><span class="bold"><strong>Core </strong></span>- Contains data controlling the Sitecore CMS user interfaces.</p></li></ul></div><p>You can use the techniques described in the following sections to access the databases.</p><p>It is important to remember that:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>You should <span class="emphasis"><em>always</em></span> use Sitecore APIs to access the databases.</p></li><li class="listitem"><p>You should <span class="emphasis"><em>not</em></span> use SQL commands to access the databases.</p></li><li class="listitem"><p>All code runs in the security context of the context user by default.</p></li><li class="listitem"><p>Every attempt to access databases, items, fields, and other resources that do not exist may return Null or raise an exception.</p><p>You can use a security user switcher or security disabler for specific tasks if you know the context user does not have the access rights required to complete an operation.</p></li><li class="listitem"><p>Developers should check for Null when accessing items and fields.</p><p>For brevity’s sake, the code examples in this document do not always check for Null.</p></li><li class="listitem"><p>The Sitecore APIs access the databases.</p><p>You can also access external data stores using the appropriate .NET APIs.</p></li><li class="listitem"><p>If you create, update, or remove items from a publishing target database, publishing from Master to that publishing target will overwrite those changes.</p><p>You should avoid writing to publishing target databases. To reduce the risk of writing to a publishing target database, do not write to a Sitecore database from a presentation component.</p></li></ul></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>You can access data templates, and fields by specifying the name, partial path, full path, ID, and potentially other criteria such as language and version of various API methods.</p><p>For best performance, use IDs whenever possible, but use constants or other features to avoid hard-coding strings in more than one class.</p></li></ul></div><section xml:lang="en" lang="en" dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-17c8a9c0-64d7-4ad1-531b-b9a0cb92db45"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-17c8a9c0-64d7-4ad1-531b-b9a0cb92db45_body" data-parent="#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-17c8a9c0-64d7-4ad1-531b-b9a0cb92db45"><div><div class="title"><h2 class="title" style="clear: both">Accessing the content database</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-17c8a9c0-64d7-4ad1-531b-b9a0cb92db45_body"><p>CMS user interface components such as the Content Editor interact with the content database. The default content database is the Master database.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Presentation components almost exclusively access the context database instead of referencing a database by name.</p></div><p>You can use the <code class="code">Sitecore.Context.ContentDatabase</code> property to access the content database. For example, to access the context database:</p><p><code class="code">Sitecore.Data.Database content = Sitecore.Context.ContentDatabase;</code></p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>CMS user interface components use configuration data in the context database to manage data in the content database.</p></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-97070117-f781-6656-7363-3c69e7fbb1bc"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-97070117-f781-6656-7363-3c69e7fbb1bc_body" data-parent="#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-97070117-f781-6656-7363-3c69e7fbb1bc"><div><div class="title"><h2 class="title" style="clear: both">Accessing a database by name</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-97070117-f781-6656-7363-3c69e7fbb1bc_body"><p>You can use the <code class="code">Sitecore.Configuration.Factory.GetDatabase()</code> method to access a specific database. For example, to access the Master database:</p><pre class="programlisting">Sitecore.Data.Database master = Sitecore.Configuration.Factory.GetDatabase("master");</pre><p>Application logic that publishes or import data typically accesses the Master database by name.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>If the first parameter does not match the ID of any of the <span class="emphasis"><em>/configuration/sitecore/databases/database</em></span> elements in <span class="emphasis"><em>web.config</em></span>, the <code class="code">Sitecore.Configuration.Factory.GetDatabase()</code> method throws an exception. This comparison is case-sensitive.</p></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-e624a18a-4b98-5391-0687-d4037ced3b84"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-e624a18a-4b98-5391-0687-d4037ced3b84_body" data-parent="#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-e624a18a-4b98-5391-0687-d4037ced3b84"><div><div class="title"><h2 class="title" style="clear: both">Accessing the context database</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-e624a18a-4b98-5391-0687-d4037ced3b84_body"><p>The context database is the primary database associated with the logical site accessed by the Web client. For presentation components running on the published Web sites, the context database is one of the publishing target databases. In the Experience Editor, the context database is the Master database. In the Content Editor, the context database is the Core database.</p><p>Presentation components almost exclusively access the context database instead of referencing a database by name.</p><p>You can use the <code class="code">Sitecore.Context.Database</code> property to access the context database. For example, to access the context database:</p><pre class="programlisting">Sitecore.Data.Database context = Sitecore.Context.Database;</pre></div></div></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7">Working with databases</a></li><li><a href="#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-17c8a9c0-64d7-4ad1-531b-b9a0cb92db45">Accessing the content database</a></li><li><a href="#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-97070117-f781-6656-7363-3c69e7fbb1bc">Accessing a database by name</a></li><li><a href="#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-e624a18a-4b98-5391-0687-d4037ced3b84">Accessing the context database</a></li></ul></aside></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="sitecore-item-api.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="working-with-databases.html#UUID-f563750b-de19-5775-aa60-3c3ec8701ff7_UUID-17c8a9c0-64d7-4ad1-531b-b9a0cb92db45">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023 Sitecore </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">10/04/2022</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date">06/30/23</span></div></div></footer></div></div></div></div><script type="text/javascript" src="//customer.cludo.com/scripts/bundles/search-script.min.js"></script><script>
			var CludoSearch;
			(function () {
			var cludoSettings = {
			customerId: 2063,
			engineId: 12826,
			language: 'en',
			searchInputs: ["search-form","cludo-search-content-form","cludo-search-mobile-form"],
			hideSearchFilters: true,
			type: 'standardOverlay',
			facets: ["Category", "ProductVer", "Product", "Version"],
			useStandardSearchTemplate: false,
			customerTemplate: "OverlayCopy",
			searchApiUrl: 'https://api-eu1.cludo.com/api/v3'
			};
			CludoSearch= new Cludo(cludoSettings);
			CludoSearch.init();
			})();
		</script><!-- www.Cludo.com Search body init script start --></body></html>
