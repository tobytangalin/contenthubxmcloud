<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="Audience - do not use" content=""></meta><meta name="clubot" content=""></meta><meta name="data model" content=""></meta><meta name="DxP type - Do Not Use" content=""></meta><meta name="media_icon" content=""></meta><meta name="product" content="XM Cloud"></meta><meta name="Publishing target" content="Production"></meta><meta name="Ready for publishing - do not use" content=""></meta><meta name="role" content="developers"></meta><meta name="topic_tripane" content=""></meta><meta name="version" content=""></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
					function addSearch(){
					//not used with custom or elastic search
					}
				</script><title>Create the API key</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/content-theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="/css/sitecore-custom-default-xmc.css?version=20230630"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js?version=20230630" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js?version=20230630" type="text/javascript"></script><script src="../js/html5-2.js?version=20230630" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="/js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="description" content="Learn how to create the Experience Edge for XM authentication key."></meta><meta name="keywords" content="endpoint, authentication, security"></meta><link rel="prev" href="request-a-jwt-for-experience-edge-xm-using-oauth.html" title="Request a JWT for Experience Edge XM using OAuth"></link><link rel="next" href="create-the-api-key.html#UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4588913366156832428294011954" title="Create the API key for the Delivery IDE"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script><script type="text/javascript">var privacypolicy = 'https://www.sitecore.com/trust/privacy-policy';
var consenttype = 'opt-out';
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-72664331-1"></script><script type="text/javascript">const measurementId = 'UA-72664331-1';

						$(document).on('cookies.consented', () => {
							window.dataLayer = window.dataLayer || [];
							function gtag(){dataLayer.push(arguments)};

							gtag('js', new Date());
							gtag('config', measurementId);
						});
					</script><script type="text/javascript" src="../js/cookie-consent.js"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><link href="//customer.cludo.com/assets/2063/10039/cludo-search.min.css" type="text/css" rel="stylesheet"></link></head><body class="theme1 colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="https://doc.sitecore.com/xmc/" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="navbar-collapse collapse" id="navbar"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside xmlns:xinfo="http://ns.expertinfo.se/cms/xmlns/1.0" class="site-sidebar"><div class="site-sidebar-header"><a href="https://doc.sitecore.com/xmc/" target="_blank"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form id="search-form" class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="index-en.html">XM Cloud Documentation for Developers</a></li><li class="breadcrumb-link"><a href="sitecore-experience-edge-for-xm.html">Sitecore Experience Edge for XM</a></li><li class="breadcrumb-node">Create the API key</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="request-a-jwt-for-experience-edge-xm-using-oauth.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="create-the-api-key.html#UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4588913366156832428294011954">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-11993608-4f0f-147f-3cdf-e253072fe216" data-permalink="create-the-api-key.html" data-topic-level="1" data-relative-prefix="" data-time-modified="02/15/2022" data-publication-date="06/30/23" id="UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Create the API key</h1></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Learn how to create the Experience Edge for XM authentication key.</p></div></div></div></div><p>Experience Edge for XM has several APIs and uses two different mechanisms for authentication. To execute any operation in one of Experience Edges protected APIs other than the Delivery API, the calling system must first <a class="link linktype-component" href="request-a-jwt-for-experience-edge-xm-using-oauth.html" title="Request a JWT for Experience Edge XM using OAuth">obtain an authentication token in JSON Web Token format</a>. Before you can use the Delivery IDE and the Preview IDE, you must create an API key.</p><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4588913366156832428294011954"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4588913366156832428294011954_body" data-parent="#UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4588913366156832428294011954"><div><div class="title"><h2 class="title" style="clear: both">Create the API key for the Delivery IDE</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4588913366156832428294011954_body"><p>The Delivery API IDE uses the Delivery API. The Delivery API is a GraphQL API that is hosted on the Delivery Platform and provides access only to approved and published content. You must authenticate with an API key for all requests to the Delivery API. </p><div dir="ltr" class="important"><h3 class="title">Important</h3><p><a class="link linktype-component" href="request-a-jwt-for-experience-edge-xm-using-oauth.html" title="Request a JWT for Experience Edge XM using OAuth">Use OAuth to obtain a JWT</a> before you create an API key.</p></div><p>To create an API key:</p><div class="itemizedlist" id="UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_procedure-idm4622950284822432449116952802"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Call the create endpoint to create the API key. Make sure to provide the scope and add:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="code">“content-#everything#”</code></p></li><li class="listitem"><p><code class="code">“audience-delivery”</code></p></li></ul></div><div dir="ltr" class="warning"><h3 class="title">Warning</h3><p>Make sure to save this token in a secure place. Sitecore does not store this token, and the token cannot be retrieved from the system after creation.</p></div><pre class="programlisting">curl --request POST --url "https://edge.sitecorecloud.io/api/apikey/v1" --header "content-type: application/json" --header "Authorization: Bearer &lt;JWT token&gt;" --data "{ \"CreatedBy\":\"ADN\", \"Label\":\"Website token\", \"Scopes\": [\"content-#everything#\", \"audience-delivery\"] }"</pre><p>The response is the token for the API key which must be passed in the sc_apikey header.</p></li></ul></div></div></div></section><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4525940477897632428303320537"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4525940477897632428303320537_body" data-parent="#UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4525940477897632428303320537"><div><div class="title"><h2 class="title" style="clear: both">Create the API key for the Preview IDE</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4525940477897632428303320537_body"><p>The Preview API IDE provides the same functionality as the Delivery IDE, but it executes against the Preview API on your self-hosted Sitecore XM instance. You can use the Preview endpoint testing UI to test your queries. The Preview endpoint (<code class="code">/sitecore/api/graph/edge</code>) on your self-hosted Sitecore XM instance is enabled by default. However, you must create an API key and pass it with your GraphQL request.</p><p>To create an API key:</p><div class="procedure" id="UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_procedure-idm4588913365819232428308238427"><ol class="procedure" type="1"><li class="step"><p><a class="link linktype-component" data-olink="true" href="/xp/en/developers/103/sitecore-experience-manager/en/api-keys-for-the-odata-item-service.html">Create a Sitecore Services Client API key</a>.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>You may already have an API key. For example, if you are using a Getting Started template such as the Next.js <code class="code">dotnet new</code> Template. If you prefer to create an API key that can only be used with the Experience Edge preview schema, in the <code class="code">Allowed Controllers</code> field, specify the following:
<code class="code">Sitecore.Services.GraphQL.Hosting.Mvc.GraphQLController;GraphQL:/sitecore/api/graph/edge</code></p></div></li><li class="step"><p>Once you have generated your token, you must pass your API token in the headers for your request. Click HTTP headers and add the token in the following format:
<code class="code">{"sc_apikey": "YOUR_TOKEN"}</code>
Now you will be able to query your data and see results returned.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Sitecore Services Client and Sitecore GraphQL also accept API keys via query string. However, we recommend to use the <code class="code">sc_apikey</code> HTTP header as this is mirrors the behavior of Experience Edge.</p></div></li></ol></div></div></div></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b">Create the API key</a></li><li><a href="#UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4588913366156832428294011954">Create the API key for the Delivery IDE</a></li><li><a href="#UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4525940477897632428303320537">Create the API key for the Preview IDE</a></li></ul></aside></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="request-a-jwt-for-experience-edge-xm-using-oauth.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="create-the-api-key.html#UUID-2c7d11e1-c1ac-d68c-90a1-2707d1e8ec3b_section-idm4588913366156832428294011954">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023 Sitecore </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">02/15/2022</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date">06/30/23</span></div></div></footer></div></div></div></div><script type="text/javascript" src="//customer.cludo.com/scripts/bundles/search-script.min.js"></script><script>
			var CludoSearch;
			(function () {
			var cludoSettings = {
			customerId: 2063,
			engineId: 12826,
			language: 'en',
			searchInputs: ["search-form","cludo-search-content-form","cludo-search-mobile-form"],
			hideSearchFilters: true,
			type: 'standardOverlay',
			facets: ["Category", "ProductVer", "Product", "Version"],
			useStandardSearchTemplate: false,
			customerTemplate: "OverlayCopy",
			searchApiUrl: 'https://api-eu1.cludo.com/api/v3'
			};
			CludoSearch= new Cludo(cludoSettings);
			CludoSearch.init();
			})();
		</script><!-- www.Cludo.com Search body init script start --></body></html>
