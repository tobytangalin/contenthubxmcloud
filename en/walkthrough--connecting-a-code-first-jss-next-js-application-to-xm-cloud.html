<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="Audience - do not use" content=""></meta><meta name="clubot" content=""></meta><meta name="data model" content=""></meta><meta name="DxP type - Do Not Use" content=""></meta><meta name="media_icon" content=""></meta><meta name="product" content="XM Cloud"></meta><meta name="Publishing target" content="Production"></meta><meta name="Ready for publishing - do not use" content=""></meta><meta name="role" content="developers"></meta><meta name="topic_tripane" content=""></meta><meta name="version" content=""></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
					function addSearch(){
					//not used with custom or elastic search
					}
				</script><title>Walkthrough: Connecting a code-first JSS Next.js application to XM Cloud</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/content-theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="/css/sitecore-custom-default-xmc.css?version=20230630"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js?version=20230630" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js?version=20230630" type="text/javascript"></script><script src="../js/html5-2.js?version=20230630" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="/js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="description" content="Connect a JSS Next.js app created with the JSS initializer to XM Cloud and perform an initial deployment of code-first artifacts"></meta><link rel="prev" href="walkthrough--creating-a-jss-next-js-application-with-the-jss-initializer.html#UUID-7f97879c-71e4-b061-e039-0a4c9fda7198_section-idm4536003711440032388673739583" title="Run the JSS Next.js application"></link><link rel="next" href="walkthrough--connecting-a-code-first-jss-next-js-application-to-xm-cloud.html#UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403269105894518" title="Configure the site name and hostname for the JSS app"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script><script type="text/javascript">var privacypolicy = 'https://www.sitecore.com/trust/privacy-policy';
var consenttype = 'opt-out';
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-72664331-1"></script><script type="text/javascript">const measurementId = 'UA-72664331-1';

						$(document).on('cookies.consented', () => {
							window.dataLayer = window.dataLayer || [];
							function gtag(){dataLayer.push(arguments)};

							gtag('js', new Date());
							gtag('config', measurementId);
						});
					</script><script type="text/javascript" src="../js/cookie-consent.js"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><link href="//customer.cludo.com/assets/2063/10039/cludo-search.min.css" type="text/css" rel="stylesheet"></link></head><body class="theme1 colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="https://doc.sitecore.com/xmc/" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="navbar-collapse collapse" id="navbar"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside xmlns:xinfo="http://ns.expertinfo.se/cms/xmlns/1.0" class="site-sidebar"><div class="site-sidebar-header"><a href="https://doc.sitecore.com/xmc/" target="_blank"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form id="search-form" class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="index-en.html">XM Cloud Documentation for Developers</a></li><li class="breadcrumb-link"><a href="sitecore-javascript-rendering-sdks--jss-.html">Sitecore JavaScript Rendering SDKs (JSS)</a></li><li class="breadcrumb-link"><a href="sitecore-javascript-rendering-sdk--jss--for-next-js.html">Sitecore JavaScript Rendering SDK (JSS) for Next.js</a></li><li class="breadcrumb-link"><a href="getting-started-with-jss-for-next-js-development.html">Getting started with JSS for Next.js development</a></li><li class="breadcrumb-node">Walkthrough: Connecting a code-first JSS Next.js application to XM Cloud</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="walkthrough--creating-a-jss-next-js-application-with-the-jss-initializer.html#UUID-7f97879c-71e4-b061-e039-0a4c9fda7198_section-idm4536003711440032388673739583">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="walkthrough--connecting-a-code-first-jss-next-js-application-to-xm-cloud.html#UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403269105894518">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-9b69f9ac-96b3-42aa-bece-d84ab1d38df0" data-permalink="walkthrough--connecting-a-code-first-jss-next-js-application-to-xm-cloud.html" data-topic-level="1" data-relative-prefix="" data-time-modified="10/20/2022" data-publication-date="06/30/23" id="UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Walkthrough: Connecting a code-first JSS Next.js application to XM Cloud</h1></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Connect a JSS Next.js app created with the JSS initializer to <span class="phrase">XM Cloud</span> and perform an initial deployment of code-first artifacts</p></div></div></div></div><p id="UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_para-idm1403269105776012">Every JSS application must at some point in its lifecycle transition from disconnected mode to being deployed to a <span class="phrase">XM Cloud</span> environment. You can use the JSS CLI to deploy our app to <span class="phrase">XM Cloud</span>, which imports all of our disconnected content and components into Items that can then be edited.</p><p id="UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_para-idm1403269105787812">After the app is connected to Sitecore, you can run it in <a class="link linktype-component" href="start-a-jss-app-in-connected-mode.html" title="Start a JSS app in connected mode">connected mode</a> where you develop the app using live data from <span class="phrase">XM Cloud</span> and <a class="link linktype-component" href="walkthrough--connecting-a-next-js-jss-app-to-sitecore-editors.html" title="Walkthrough: Connecting a Next.js JSS app to Sitecore editors">advanced editors</a>.</p><div dir="ltr" class="important"><h3 class="title">Important</h3><p>A JSS Next.js app created with a container-based template is already connected to the <span class="phrase">XM Cloud</span> instance inside the Docker container. The following steps must only be performed for <a class="link linktype-component" href="walkthrough--creating-a-jss-next-js-application-with-the-jss-initializer.html" title="Walkthrough: Creating a JSS Next.js application with the JSS initializer">JSS Next.js apps created with the NPM initializer</a>.</p></div><p id="UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_para-idm1403269105807122">Connecting and deploying JSS applications to <span class="phrase">XM Cloud</span> requires that you have access to an instance with <a class="link linktype-component" href="sitecore-headless-services.html" title="Sitecore Headless Services">Headless Services</a>, you <a class="link linktype-component" href="install-the-jss-cli-globally.html" title="Install the JSS CLI globally">installed the JSS CLI globally</a>, and you <a class="link linktype-component" href="create-a-sitecore-api-key.html" title="Create a Sitecore API key">created an API Key</a>.</p><p id="UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_para-idm1403269105848602">This walkthrough describes how to:</p><div class="itemizedlist" id="UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_orderedlist-idm1403269105873994"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Configure the site name and hostname for the JSS app.</p></li><li class="listitem"><p>Enable JSS import in your XM Cloud content management instance.</p></li><li class="listitem"><p>Set up the connection information.</p></li><li class="listitem"><p>Deploy the app configuration.</p></li><li class="listitem"><p>Deploy a JSS Next.js app.</p></li></ul></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403269105894518"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Configure the site name and hostname for the JSS app</h2></div></div></div><p>Applications created with the <a class="link linktype-component" href="the-jss-app-initializer.html" title="The JSS app initializer">JSS app initializer</a> include a site definition in a configuration patch created with the application.</p><p>In the root folder of your JSS application, open the file containing the configuration patch <code class="code">/sitecore/config/&lt;AppName&gt;.config</code> and confirm that the <code class="code">hostName</code> attribute matches a host header that the server must respond to. If you are deploying a JSS app that is to become the default site for the <span class="phrase">XM Cloud</span> installation, you can remove the <code class="code">hostName</code> attribute so that the JSS app responds to any host.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>You must provide a top-level domain (TLD) for the development hostname. The browser Microsoft Edge does not resolve hostnames without a TLD. For example, the browser can resolve <code class="code">http://jss.sitecore</code> but not <code class="code">http://sitecore</code>.</p></div><p>The following is a site configuration example for setting the site name and the hostname:</p><pre class="programlisting">&lt;!-- other attributes removed for brevity --&gt;
&lt;site x:before="site[@name='website']"
      hostName="myapp.siteco.re" /&gt;</pre><p>When using a local instance, you must map the desired hostname to your local host.</p><p>To map a hostname to your localhost in a <code class="code">hosts</code> file entry on Windows:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Open a code editor as an administrator.</p></li><li class="listitem"><p>In the editor, open the hosts file <code class="code">C:\Windows\System32\drivers\etc\hosts</code>.</p></li><li class="listitem"><p>Add the mapping. For example:</p><pre class="programlisting">127.0.0.1    myapp.siteco.re</pre></li><li class="listitem"><p>Save and close the file.</p></li></ol></div><p>After adding the hostname entry, add it as a binding on your IIS instance as well:</p><div class="mediaobject"><img src="image/uuid-3d0ffc0c-81af-a886-d12c-443c23624fda.png" style="" alt="IIS Bindings"></img></div><p>If you plan to deploy multiple JSS applications, you must configure the different hosts and hostname bindings in IIS for <span class="phrase">XM Cloud</span> to resolve the correct site.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403331296443650"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Enable JSS import in your XM Cloud content management instance</h2></div></div></div><p>Because of technical limitations, the JSS import user in XM Cloud does not have read and write permissions. Before using the <a class="link linktype-component" href="import-service.html" title="Import Service">Import Service</a> in your XM Cloud content management (CM) instance, you must provide the JSS import user with reading and writing access for the <span class="emphasis"><em>Content</em></span> and <span class="emphasis"><em>Media Library</em></span> items.</p><p>To enable read and write permissions for the JSS import user:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>In the Content Editor, click the <span class="emphasis"><em>/sitecore/Content</em></span> item.</p></li><li class="listitem"><p>On the ribbon, on the <span class="guilabel">Configure</span> tab, click <span class="guilabel">Unprotect Item</span>.</p></li><li class="listitem"><p>On the ribbon, on the <span class="guilabel">Security</span> tab, click <span class="guilabel">User manager</span>.</p></li><li class="listitem"><p>In the <span class="guilabel">User manager</span> dialog, in the <span class="guilabel">Tools</span> group, click <span class="guilabel">Security editor</span>.</p></li><li class="listitem"><p>In the <span class="guilabel">Security Editor</span> dialog, in the <span class="guilabel">Roles and users</span> group, click the <code class="code">sitecore/JssImport</code> user, and in the content tree, click the <span class="emphasis"><em>Content</em></span> item.</p><p>Click <span class="inlinemediaobject"><img style="max-width: 11px; max-height: 11px; " src="image/uuid-a565894e-18c3-d4ff-2c7f-33baf1eba160.png" alt="B2DBD2DE2CE348EABBA572706836BA19.png"></img></span> for the <span class="guilabel">Create</span>, <span class="guilabel">Read</span>, and <span class="guilabel">Write</span> permissions.</p></li><li class="listitem"><p>With the <code class="code">sitecore/JssImport</code> user selected, click the <span class="emphasis"><em>Media Library</em></span> item and, in the top menu, click <span class="guilabel">Unprotect</span> to enable permission assignment.</p><p>Click <span class="inlinemediaobject"><img style="max-width: 11px; max-height: 11px; " src="image/uuid-a565894e-18c3-d4ff-2c7f-33baf1eba160.png" alt="B2DBD2DE2CE348EABBA572706836BA19.png"></img></span> for the <span class="guilabel">Create</span>, <span class="guilabel">Read</span>, and <span class="guilabel">Write</span> permissions.</p><div class="mediaobject"><img src="image/uuid-1ef8c314-5d18-290a-f206-efc1194b8c3e.png" style="" alt="The JssImport user has Create, Read, and Write access to the Content and Media Library items."></img></div></li><li class="listitem"><p>In the <span class="guilabel">Security Editor</span> dialog, in the <span class="guilabel">Roles and users</span> group, select the <code class="code">sitecore/ServicesAPI</code> user and, in the content tree, click the <span class="emphasis"><em>Content</em></span> item.</p><p>Click <span class="inlinemediaobject"><img style="max-width: 11px; max-height: 11px; " src="image/uuid-a565894e-18c3-d4ff-2c7f-33baf1eba160.png" alt="B2DBD2DE2CE348EABBA572706836BA19.png"></img></span> for the <span class="guilabel">Read</span> and <span class="guilabel">Inheritance</span> permissions.</p><div class="mediaobject"><img src="image/uuid-45766d3f-34fa-fdb4-a510-4b13ff03d051.png" style="" alt="The ServicesAPI user has Read and Inheritance permissions for the Content item."></img></div></li></ol></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403269105983706"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Set up the connection information</h2></div></div></div><p>To configure the connection:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In a terminal, run the JSS command <code class="code">jss setup</code> and follow the prompts to supply the following pieces of information:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Website folder - this is the root physical path to the <span class="phrase">XM Cloud</span> instance, used to deploy config files. File share paths are fine for remote instances. For example: <code class="code">c:\inetpub\wwwroot\MyXMCloud\Website</code>. If you do not have access to the website folder directly, answer <span class="emphasis"><em>no</em></span> when asked if your instance is remote.</p></li><li class="listitem"><p>Sitecore hostname - this is the <span class="emphasis"><em>hostname of your JSS app</em></span> previously configured in the configuration patch <code class="code">/sitecore/config/&lt;AppName&gt;.config</code>. For example: <code class="code">http://jssreactweb</code></p></li><li class="listitem"><p>Sitecore import service URL - this is the <span class="emphasis"><em>import service URL of your JSS app</em></span>, by default it сonsists of the <span class="emphasis"><em>hostname of your JSS app</em></span> plus <code class="code">/sitecore/api/jss/import</code>: <code class="code">http://jssreactweb/sitecore/api/jss/import</code>. You can leave this blank to use the default value or provide your custom URL.</p></li><li class="listitem"><p>Sitecore API key - provide the Item ID of the <a class="link linktype-component" href="create-a-sitecore-api-key.html" title="Create a Sitecore API key" target="_blank">API key</a> for this JSS app.</p></li><li class="listitem"><p>Deployment secret - this is a shared secret that enables authentication to deploy your app items to <span class="phrase">XM Cloud</span>. We recommend you use the random key generated by the setup process. If you choose your own key, the secret must be a randomly generated string 32 or more characters long.</p><div dir="ltr" class="important"><h3 class="title">Important</h3><p>Do not commit the secret to source control; use a unique secret for each environment and limit access to production secrets. For CI environments, <code class="code">jss setup</code> parameters (<code class="code">--help</code>) can be used to pass the secret and other parameters from variables. By default, the secret is stored in <code class="code">/scjssconfig.json</code> and <code class="code">/sitecore/config/AppName.deploysecret.config</code> - both of which are automatically ignored if you are using Git for source control.</p></div></li></ul></div></li></ul></div><p>The <code class="code">jss setup</code> process generates the <code class="code">/scjssconfig.json</code> file containing the connection strings for your JSS application.</p><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>To build an environment-agnostic JSS app bundle for production environments that always use the current hostname for API requests, in the <code class="code">scjssconfig.json</code> file set the <code class="code">layoutServiceHost</code> setting to blank. This technique is incompatible with <a class="link linktype-component" href="connected-graphql-in-jss-apps.html" title="Connected GraphQL in JSS apps" target="_blank">connected GraphQL</a>.</p></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403305922935674"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Deploy the app configuration to <span class="phrase">XM Cloud</span></h2></div></div></div><p>The JSS app is registered with <span class="phrase">XM Cloud</span> using configuration patches that are deployed to the <span class="phrase">XM Cloud</span> server. When setting up the server, you already edited one of these patches when <a class="link" href="walkthrough--connecting-a-code-first-jss-next-js-application-to-xm-cloud.html#UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403269105894518" title="Configure the site name and hostname for the JSS app" target="_blank">setting the hostName attribute</a>. Before the configuration patch can take effect on the server, you must deploy it. You can deploy configurations automatically (recommended) or manually.</p><p>Automatic deployment deploys the config patches directly from the JSS app using the JSS CLI.</p><p>To automatically deploy the configuration patches:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In a terminal, within your JSS app, run the command:</p><pre class="programlisting">jss deploy config</pre><p>The script copies the config patch files from the <code class="code">sitecore/config</code> folder to the Sitecore <code class="code">App_Config/Include/zzz</code> folder.</p></li></ul></div><p>The automatic configuration deployment configures the JSS app within <span class="phrase">XM Cloud</span>, creates a site for it, and enables live mode without publishing. We recommend that developers review the patch file carefully to ensure that all the settings are correct for the environment. In production, for example, the application must not run in live mode.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Ensure that the user account you use to run the command has the permissions to write to the website folder configured in <code class="code">/scjssconfig.json</code>. On Windows, this can involve UAC elevation.</p></div><p>If you want to deploy configuration patches manually:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Acquire the <code class="code">sitecore/config/*.config</code> patches from the JSS application and review their content.</p></li><li class="listitem"><p>Deploy them to your <code class="code">App_Config/Include</code> folder in a location such as a <code class="code">zzz</code> folder.</p></li></ol></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403269106133744"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Deploy a JSS Next.js app to <span class="phrase">XM Cloud</span></h2></div></div></div><p>Applications built with JSS for Next.js are deployed differently than apps built with JSS for React, Angular, and Vue.js because of the <a class="link linktype-component" href="sitecore-javascript-rendering-sdk--jss--for-next-js.html" title="Sitecore JavaScript Rendering SDK (JSS) for Next.js" target="_blank">particularities of Next.js</a>. Essentially, because of the Next.js server, a JSS Next.js app uses the <a class="link linktype-component" href="http-rendering-engine.html" title="HTTP rendering engine">HTTP rendering engine</a>.</p><p>To deploy a JSS Next.js app to a Sitecore installation:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Open a command prompt/terminal within your JSS app.</p></li><li class="listitem"><p>Run the command:</p><pre class="programlisting">jss deploy items --includeContent --includeDictionary</pre></li></ol></div><div dir="ltr" class="important"><h3 class="title">Important</h3><p>Do not use <code class="code">jss deploy app</code> or <code class="code">jss deploy files</code> when working with Next.js.</p><p>You do not have to configure a <code class="code">sitecoreDistPath</code> in the <code class="code">package.json</code> file of a Next.js JSS app.</p></div></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8">Walkthrough: Connecting a code-first JSS Next.js application to XM Cloud</a></li><li><a href="#UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403269105894518">Configure the site name and hostname for the JSS app</a></li><li><a href="#UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403331296443650">Enable JSS import in your XM Cloud content management instance</a></li><li><a href="#UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403269105983706">Set up the connection information</a></li><li><a href="#UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403305922935674">Deploy the app configuration to XM Cloud</a></li><li><a href="#UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403269106133744">Deploy a JSS Next.js app to XM Cloud</a></li></ul></aside></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="walkthrough--creating-a-jss-next-js-application-with-the-jss-initializer.html#UUID-7f97879c-71e4-b061-e039-0a4c9fda7198_section-idm4536003711440032388673739583">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="walkthrough--connecting-a-code-first-jss-next-js-application-to-xm-cloud.html#UUID-b7dc22f2-89d9-c551-39e0-6a0c439ba8c8_section-idm1403269105894518">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023 Sitecore </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">10/20/2022</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date">06/30/23</span></div></div></footer></div></div></div></div><script type="text/javascript" src="//customer.cludo.com/scripts/bundles/search-script.min.js"></script><script>
			var CludoSearch;
			(function () {
			var cludoSettings = {
			customerId: 2063,
			engineId: 12826,
			language: 'en',
			searchInputs: ["search-form","cludo-search-content-form","cludo-search-mobile-form"],
			hideSearchFilters: true,
			type: 'standardOverlay',
			facets: ["Category", "ProductVer", "Product", "Version"],
			useStandardSearchTemplate: false,
			customerTemplate: "OverlayCopy",
			searchApiUrl: 'https://api-eu1.cludo.com/api/v3'
			};
			CludoSearch= new Cludo(cludoSettings);
			CludoSearch.init();
			})();
		</script><!-- www.Cludo.com Search body init script start --></body></html>
