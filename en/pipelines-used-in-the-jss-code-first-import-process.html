<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="Audience - do not use" content=""></meta><meta name="clubot" content=""></meta><meta name="data model" content=""></meta><meta name="DxP type - Do Not Use" content=""></meta><meta name="media_icon" content=""></meta><meta name="product" content="XM Cloud"></meta><meta name="Publishing target" content="Production"></meta><meta name="Ready for publishing - do not use" content=""></meta><meta name="role" content="developers"></meta><meta name="topic_tripane" content=""></meta><meta name="version" content=""></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
					function addSearch(){
					//not used with custom or elastic search
					}
				</script><title>Pipelines used in the JSS code-first import process</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/content-theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="/css/sitecore-custom-default-xmc.css?version=20230630"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js?version=20230630" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js?version=20230630" type="text/javascript"></script><script src="../js/html5-2.js?version=20230630" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="/js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="description" content="Description of pipelines and processors used in the JSS code-first import process"></meta><link rel="prev" href="datasource-location-strategies-for-the-jss-import-process.html" title="Datasource location strategies for the JSS import process"></link><link rel="next" href="pipelines-used-in-the-jss-code-first-import-process.html#UUID-5f1b07a4-f65e-b78d-9d95-08a99203b33a_section-idm4539833004592032672097588578" title="Pipeline processors"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script><script type="text/javascript">var privacypolicy = 'https://www.sitecore.com/trust/privacy-policy';
var consenttype = 'opt-out';
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-72664331-1"></script><script type="text/javascript">const measurementId = 'UA-72664331-1';

						$(document).on('cookies.consented', () => {
							window.dataLayer = window.dataLayer || [];
							function gtag(){dataLayer.push(arguments)};

							gtag('js', new Date());
							gtag('config', measurementId);
						});
					</script><script type="text/javascript" src="../js/cookie-consent.js"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><link href="//customer.cludo.com/assets/2063/10039/cludo-search.min.css" type="text/css" rel="stylesheet"></link></head><body class="theme1 colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="https://doc.sitecore.com/xmc/" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="navbar-collapse collapse" id="navbar"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside xmlns:xinfo="http://ns.expertinfo.se/cms/xmlns/1.0" class="site-sidebar"><div class="site-sidebar-header"><a href="https://doc.sitecore.com/xmc/" target="_blank"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form id="search-form" class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="index-en.html">XM Cloud Documentation for Developers</a></li><li class="breadcrumb-link"><a href="sitecore-javascript-rendering-sdks--jss-.html">Sitecore JavaScript Rendering SDKs (JSS)</a></li><li class="breadcrumb-link"><a href="architecture-overview.html">Architecture overview</a></li><li class="breadcrumb-link"><a href="jss-services-and-apis.html">JSS services and APIs</a></li><li class="breadcrumb-link"><a href="jss-app-import-api.html">JSS App Import API</a></li><li class="breadcrumb-node">Pipelines used in the JSS code-first import process</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="datasource-location-strategies-for-the-jss-import-process.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="pipelines-used-in-the-jss-code-first-import-process.html#UUID-5f1b07a4-f65e-b78d-9d95-08a99203b33a_section-idm4539833004592032672097588578">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-2300cc80-f1a7-84f8-95e1-64ced8c0238d" data-permalink="pipelines-used-in-the-jss-code-first-import-process.html" data-topic-level="1" data-relative-prefix="" data-time-modified="02/23/2023" data-publication-date="06/30/23" id="UUID-5f1b07a4-f65e-b78d-9d95-08a99203b33a"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Pipelines used in the JSS code-first import process</h1></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Description of pipelines and processors used in the JSS code-first import process</p></div></div></div></div><p>The import process uses a series of pipelines in the <code class="code">javaScriptServices</code> group that create templates, layouts, media, and content items based on the data in the <a class="link linktype-component" href="generating-a-jss-app-manifest-file.html" title="Generating a JSS app manifest file">JSS Manifest file</a>.</p><p>Pipelines are configured in <code class="code">\App_Config\Sitecore\JavaScriptServices\Sitecore.JavaScriptServices.AppServices.config</code>. To make any adjustments to the pipelines, use a configuration patch.</p><p>The following diagram shows the sequence of pipelines used in the import process:</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:100%;
                            "><tr><td style="padding:0;"><img src="image/uuid-80b37829-0b5c-5a37-e197-9809e96079d6.png" style="width: 100%; " alt="Import process sequence of pipelines"></img></td></tr></table></div><p>The import process uses the following pipelines:</p><div class="informaltable table-responsive" id="UUID-5f1b07a4-f65e-b78d-9d95-08a99203b33a_table-idm4589845155446432414617036553"><table class="informaltable frame-void rules-rows"><thead><tr><th class="th"><p>Pipeline</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="code">import</code></p></td><td class="td"><p>The primary pipeline for the import process. It initializes the context for the import, creates template and layout items, and triggers the creation of content item pipelines.</p></td></tr><tr><td class="td"><p><code class="code">create.item</code></p></td><td class="td"><p>Finds or creates a content item.</p></td></tr><tr><td class="td"><p><code class="code">update.item</code></p></td><td class="td"><p>Populates or updates field values on a content item, triggers the update of item layout.</p></td></tr><tr><td class="td"><p><code class="code">import.field</code></p></td><td class="td"><p>Imports the value of a field on a content item.</p></td></tr><tr><td class="td"><p><code class="code">create.media</code></p></td><td class="td"><p>Creates a media item from an asset associated with the manifest.</p></td></tr><tr><td class="td"><p><code class="code">import.layout</code></p></td><td class="td"><p>Populates the layout of an imported item.</p></td></tr><tr><td class="td"><p><code class="code">create.renderingInstance</code></p></td><td class="td"><p>Creates a rendering instance for use in imported item layout.</p></td></tr></tbody></table></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="UUID-5f1b07a4-f65e-b78d-9d95-08a99203b33a_section-idm4539833004592032672097588578"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Pipeline processors</h2></div></div></div><p>Each pipeline leverages processors to perform tasks. Processors described as <span class="emphasis"><em>creating</em></span> items first attempt to look for an existing item of the same name and, if it already exists, update it. All processors creating or writing items check <code class="code">item:create</code> and <code class="code">item:write</code> permissions appropriately and skip those actions if permissions do not allow them.</p><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>You can <a class="link linktype-component" href="extend-the-import-pipeline.html" title="Extend the import pipeline">modify pipeline behavior with custom processors</a>.</p></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="idm45599297007840"><div class="titlepage"><div><div class="title"><h3 class="title"><code class="code">import</code></h3></div></div></div><p>The namespace for this pipeline is <code class="code">Sitecore.JavaScriptServices.AppServices.Pipelines.Import</code>.</p><p>This pipeline uses <a class="link linktype-component" href="datasource-location-strategies-for-the-jss-import-process.html" title="Datasource location strategies for the JSS import process">the <code class="code">datasourceStrategy</code> value</a> defined in the app configuration to determine the allowed datasource locations for any created renderings.</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><thead><tr><th class="th"><p>Processor</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="code">EnableSecurity</code></p></td><td class="td"><p>Ensures that security permissions are enforced. Needed for execution within contexts where security is normally disabled, such as an update package post-step.</p></td></tr><tr><td class="td"><p><code class="code">SwitchUser</code></p></td><td class="td"><p>Switches the user context to the configured import user.</p></td></tr><tr><td class="td"><p><code class="code">SwitchSite</code></p></td><td class="td"><p>Sitecore content Workflow can be enabled on a per-site basis. This mock site ensures that content workflow executes during the import process.</p></td></tr><tr><td class="td"><p><code class="code">SwitchDatabases</code></p></td><td class="td"><p>Switches the database context to the configured import database.</p></td></tr><tr><td class="td"><p><code class="code">SwitchLanguage</code></p></td><td class="td"><p>Switches the language context to the configured import language.</p></td></tr><tr><td class="td"><p><code class="code">SwitchBulkUpdateContext</code></p></td><td class="td"><p>If import indexing optimization is enabled, enters a <code class="code">BulkUpdateContext</code>.</p></td></tr><tr><td class="td"><p><code class="code">VerifyAppConfiguration</code></p></td><td class="td"><p>Ensures the app has all required attributes and that configured item paths on the app exist. Populates values on <code class="code">args.Items</code>.</p></td></tr><tr><td class="td"><p><code class="code">Deserialize</code></p></td><td class="td"><p>Deserializes import JSON into import data model classes.</p></td></tr><tr><td class="td"><p><code class="code">WipePreviousImport</code></p></td><td class="td"><p>If full wipe mode is enabled, the process attempts to delete any existing items in the import paths configured on the app.</p></td></tr><tr><td class="td"><p><code class="code">CreateTemplatesContainer</code></p></td><td class="td"><p>Creates the parent item for imported templates.</p></td></tr><tr><td class="td"><p><code class="code">CreateRouteTemplate</code></p></td><td class="td"><p>Creates an app-specific template for route items.</p></td></tr><tr><td class="td"><p><code class="code">CreateAppContainer</code></p></td><td class="td"><p>Creates the root item for app routes and data items. Grants the import user <code class="code">item:create</code> access on the created item and assigns the generated route template as an insert option.</p></td></tr><tr><td class="td"><p><code class="code">CreatePlaceholdersContainer</code></p></td><td class="td"><p>Creates the parent item for imported placeholder settings.</p></td></tr><tr><td class="td"><p><code class="code">CreateRenderingsContainer</code></p></td><td class="td"><p>Creates the parent item for imported renderings. Assigns the JSS rendering types as insert options.</p></td></tr><tr><td class="td"><p><code class="code">CreateMediaLibraryContainer</code></p></td><td class="td"><p>Creates the parent item for imported media items.</p></td></tr><tr><td class="td"><p><code class="code">ProcessTemplates</code></p></td><td class="td"><p>Creates all templates in the manifest with their specified fields. It also creates their standard values and sets the configured workflow as the default workflow.</p></td></tr><tr><td class="td"><p><code class="code">ProcessPlaceholders</code></p></td><td class="td"><p>Creates settings items for all placeholders in the manifest and the root placeholders in the app configuration.</p></td></tr><tr><td class="td"><p><code class="code">ProcessRenderings</code></p></td><td class="td"><p>Creates rendering items for all renderings in the manifest. Uses the configured datasource strategy to set the appropriate datasource location(s) for the rendering with a datasource template. Configures rendering placeholders based on data in the manifest.</p></td></tr><tr><td class="td"><p><code class="code">AddPlaceholderAllowedControls</code></p></td><td class="td"><p>If allowed controls analysis is enabled, all imported placeholder settings are updated with allowed controls based on rendering usage within the imported routes.</p></td></tr><tr><td class="td"><p><code class="code">CreateLayout</code></p></td><td class="td"><p>Creates a main layout item for the app. Configures its placeholders based on the root placeholders in the app configuration.</p></td></tr><tr><td class="td"><p><code class="code">SetRouteLayoutStandardValue</code></p></td><td class="td"><p>Populates the layout in the standard values of the generated route template with the generated layout item.</p></td></tr><tr><td class="td"><p><code class="code">SetRouteTemplateInheritance</code></p></td><td class="td"><p>If the import manifest defines any custom route templates, it sets their base template to the app-specific route template generated above.</p></td></tr><tr><td class="td"><p><code class="code">ProcessItems</code></p></td><td class="td"><p>Creates all route and nonroute items in the manifest using the <code class="code">create.item</code> pipeline.</p></td></tr><tr><td class="td"><p><code class="code">ProtectDeveloperItems</code></p></td><td class="td"><p>If developer item protection is enabled, the process applies the read-only/protected flag to imported template and layout/rendering items.</p></td></tr><tr><td class="td"><p><code class="code">RefreshIndexes</code></p></td><td class="td"><p>If import indexing optimization is enabled, the process refreshes indexes on all the root/parent import items utilizing <code class="code">IndexCustodian.RefreshTree</code>.</p></td></tr></tbody></table></div><div dir="ltr" class="note"><h3 class="title">Note</h3><p>All the <code class="code">Switch*</code> processors set up <code class="code">IDisposable</code> context switchers. All the <code class="code">IDisposable</code> context switchers are disposed of outside the pipeline itself, in the <code class="code">ImportPipeline</code> service.</p></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="idm45599297007712"><div class="titlepage"><div><div class="title"><h3 class="title"><code class="code">create.item</code></h3></div></div></div><p>The namespace for this pipeline is <code class="code">Sitecore.JavaScriptServices.AppServices.Pipelines.CreateItem</code>.</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><thead><tr><th class="th"><p>Processor</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="code">ResolveItemName</code></p></td><td class="td"><p>Determines the name of the item to be found/created based on the <code class="code">itemNamer</code> provided in the pipeline arguments.</p></td></tr><tr><td class="td"><p><code class="code">CheckPermissions</code></p></td><td class="td"><p>Checks whether the item already exists based on the item name. If not, checks if permissions exist to create the item. If not, aborts the pipeline.</p></td></tr><tr><td class="td"><p><code class="code">ResolveTemplate</code></p></td><td class="td"><p>Determines the template that is used to create a new item, if necessary.</p></td></tr><tr><td class="td"><p><code class="code">AddItem</code></p></td><td class="td"><p>Creates the item if it does not already exist.</p></td></tr><tr><td class="td"><p><code class="code">UpdateItemValues</code></p></td><td class="td"><p>Invokes the <code class="code">update.item</code> pipeline to set item values.</p></td></tr><tr><td class="td"><p><code class="code">CreateChildItems</code></p></td><td class="td"><p>Re-invokes the <code class="code">create.item</code> pipeline again for each child of the item found in the manifest.</p></td></tr></tbody></table></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="idm45599297048816"><div class="titlepage"><div><div class="title"><h3 class="title"><code class="code">update.item</code></h3></div></div></div><p>The namespace for this pipeline is <code class="code">Sitecore.JavaScriptServices.AppServices.Pipelines.UpdateItem</code>.</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><thead><tr><th class="th"><p>Processor</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="code">CheckPermissions</code></p></td><td class="td"><p>Checks whether permissions exist to write to the item. If not, aborts the pipeline.</p></td></tr><tr><td class="td"><p><code class="code">SetDisplayName</code></p></td><td class="td"><p>Sets the item display name based on the display namer function/callback provided in the pipeline arguments.</p></td></tr><tr><td class="td"><p><code class="code">SetFieldValues</code></p></td><td class="td"><p>Sets field values on the item by invoking the <code class="code">import.field</code> pipeline for each field in the item manifest.</p></td></tr><tr><td class="td"><p><code class="code">AssignInsertOptions</code></p></td><td class="td"><p>If indicated in pipeline args, sets the item's insert options to the item's own template.</p></td></tr><tr><td class="td"><p><code class="code">ImportLayout</code></p></td><td class="td"><p>Invokes the <code class="code">import.layout</code> pipeline to update the item's layout/presentation.</p></td></tr></tbody></table></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="idm45599296959088"><div class="titlepage"><div><div class="title"><h3 class="title"><code class="code">import.field</code></h3></div></div></div><p>The namespace for this pipeline is <code class="code">Sitecore.JavaScriptServices.AppServices.Pipelines.ImportField</code>.</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><thead><tr><th class="th"><p>Processor</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="code">ResolveField</code></p></td><td class="td"><p>Finds the field on the item by the name specified in the JSON field model. Aborts the pipeline if not found.</p></td></tr><tr><td class="td"><p><code class="code">LinkFieldValue</code></p></td><td class="td"><p>If the field is one of the configured link field types, it invokes the <code class="code">create.item</code> pipeline to create the linked items, then populates the field with pipe-delimited IDs and aborts the pipeline.</p></td></tr><tr><td class="td"><p><code class="code">MediaFieldValue</code></p></td><td class="td"><p>If the field is one of the configured image field types, it invokes the <code class="code">create.media</code> pipeline to create the media item, it populates the field with the media ID and aborts the pipeline.</p></td></tr><tr><td class="td"><p><code class="code">DefaultFieldValue</code></p></td><td class="td"><p>Populates the field with the raw/literal value from the JSON field model and aborts the pipeline.</p></td></tr></tbody></table></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="idm45599296949920"><div class="titlepage"><div><div class="title"><h3 class="title"><code class="code">create.media</code></h3></div></div></div><p>The namespace for this pipeline is <code class="code">Sitecore.JavaScriptServices.AppServices.Pipelines.CreateMedia</code>.</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><thead><tr><th class="th"><p>Processor</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="code">CalculateItemPath</code></p></td><td class="td"><p>Determines the appropriate location in the media library based on the configured app media library path and the path of the asset in the import manifest.</p></td></tr><tr><td class="td"><p><code class="code">CheckPermissions</code></p></td><td class="td"><p>Checks if the media item already exists and whether write permission is allowed on the item. If not, the existing item is returned, and the pipeline is aborted.</p></td></tr><tr><td class="td"><p><code class="code">CalculateFilePath</code></p></td><td class="td"><p>Maps the filesystem path of the asset based on the path of the import package and the asset path in the manifest. If the file does not exist at the calculated path, the pipeline is aborted.</p></td></tr><tr><td class="td"><p><code class="code">BuildMediaCreatorOptions</code></p></td><td class="td"><p>Creates the <code class="code">Sitecore.Resources.Media.MediaCreatorOptions</code> object used for importing the media.</p></td></tr><tr><td class="td"><p><code class="code">CreateFromFile</code></p></td><td class="td"><p>Invokes a <code class="code">Sitecore.Resources.Media.MediaCreator</code> to import the media file into the media library.</p></td></tr></tbody></table></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="idm45599296941424"><div class="titlepage"><div><div class="title"><h3 class="title"><code class="code">import.layout</code></h3></div></div></div><p>The namespace for this pipeline is <code class="code">Sitecore.JavaScriptServices.AppServices.Pipelines.ImportLayout</code>.</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><thead><tr><th class="th"><p>Processor</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="code">CheckForLayout</code></p></td><td class="td"><p>Checks if the imported item manifest has any renderings defined. Aborts the pipeline if not.</p></td></tr><tr><td class="td"><p><code class="code">InitializeLayout</code></p></td><td class="td"><p>Creates a new <code class="code">LayoutDefinition</code> and initializes the main layout on the configured device.</p></td></tr><tr><td class="td"><p><code class="code">AddRenderings</code></p></td><td class="td"><p>Invokes the <code class="code">create.renderingInstance</code> pipeline for each rendering defined in the item manifest and adds the renderings to the configured device.</p></td></tr><tr><td class="td"><p><code class="code">SaveLayout</code></p></td><td class="td"><p>Sets the layout XML on the item's Shared Layout, using <code class="code">LayoutField</code> to ensure that the layout delta calculation is performed. If the processor is configured to do so, resets/clears the <span class="guilabel">Final Layout</span> field on the item (<code class="code">ClearFinalLayout</code>).</p></td></tr></tbody></table></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="idm45599296932256"><div class="titlepage"><div><div class="title"><h3 class="title"><code class="code">create.renderingInstance</code></h3></div></div></div><p id="UUID-5f1b07a4-f65e-b78d-9d95-08a99203b33a_para-idm1403259596139236">The namespace for this pipeline is <code class="code">Sitecore.JavaScriptServices.AppServices.Pipelines.CreateRenderingInstance</code>.</p><p id="UUID-5f1b07a4-f65e-b78d-9d95-08a99203b33a_para-idm1403267209568834">This pipeline uses <a class="link linktype-component" href="datasource-location-strategies-for-the-jss-import-process.html" title="Datasource location strategies for the JSS import process">the <code class="code">datasourceStrategy</code> value</a> defined in the app configuration to determine the allowed datasource locations for any created renderings.</p><div class="informaltable table-responsive"><table class="informaltable frame-void rules-rows"><thead><tr><th class="th"><p>Processor</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="code">ResolveRenderingItem</code></p></td><td class="td"><p>Finds the imported rendering definition item for the rendering instance. Aborts the pipeline if not found.</p></td></tr><tr><td class="td"><p><code class="code">CreateRenderingInstance</code></p></td><td class="td"><p>Creates a new <code class="code">RenderingDefinition</code> and populates its rendering ID, placeholder, UID, rendering parameters, and other properties.</p></td></tr><tr><td class="td"><p><code class="code">CheckForDatasourceFields</code></p></td><td class="td"><p>Checks whether the rendering manifest has any datasource fields. Aborts the pipeline if not.</p></td></tr><tr><td class="td"><p><code class="code">CreateDatasourceItem</code></p></td><td class="td"><p>Uses the configured datasource strategy to create/determine the parent item for the rendering datasource, then invokes the <code class="code">create.item</code> pipeline to create or find the datasource item. Updates the rendering with the datasource ID.</p></td></tr></tbody></table></div></section></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-5f1b07a4-f65e-b78d-9d95-08a99203b33a">Pipelines used in the JSS code-first import process</a></li><li><a href="#UUID-5f1b07a4-f65e-b78d-9d95-08a99203b33a_section-idm4539833004592032672097588578">Pipeline processors</a><ul class="nav"><li><a href="#idm45599297007840">import</a></li><li><a href="#idm45599297007712">create.item</a></li><li><a href="#idm45599297048816">update.item</a></li><li><a href="#idm45599296959088">import.field</a></li><li><a href="#idm45599296949920">create.media</a></li><li><a href="#idm45599296941424">import.layout</a></li><li><a href="#idm45599296932256">create.renderingInstance</a></li></ul></li></ul></aside></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="datasource-location-strategies-for-the-jss-import-process.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="pipelines-used-in-the-jss-code-first-import-process.html#UUID-5f1b07a4-f65e-b78d-9d95-08a99203b33a_section-idm4539833004592032672097588578">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023 Sitecore </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">02/23/2023</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date">06/30/23</span></div></div></footer></div></div></div></div><script type="text/javascript" src="//customer.cludo.com/scripts/bundles/search-script.min.js"></script><script>
			var CludoSearch;
			(function () {
			var cludoSettings = {
			customerId: 2063,
			engineId: 12826,
			language: 'en',
			searchInputs: ["search-form","cludo-search-content-form","cludo-search-mobile-form"],
			hideSearchFilters: true,
			type: 'standardOverlay',
			facets: ["Category", "ProductVer", "Product", "Version"],
			useStandardSearchTemplate: false,
			customerTemplate: "OverlayCopy",
			searchApiUrl: 'https://api-eu1.cludo.com/api/v3'
			};
			CludoSearch= new Cludo(cludoSettings);
			CludoSearch.init();
			})();
		</script><!-- www.Cludo.com Search body init script start --></body></html>
