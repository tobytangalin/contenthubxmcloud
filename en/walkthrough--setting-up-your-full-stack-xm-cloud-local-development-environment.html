<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="Audience - do not use" content=""></meta><meta name="clubot" content=""></meta><meta name="data model" content=""></meta><meta name="DxP type - Do Not Use" content=""></meta><meta name="media_icon" content=""></meta><meta name="product" content="XM Cloud"></meta><meta name="Publishing target" content="Production"></meta><meta name="Ready for publishing - do not use" content=""></meta><meta name="role" content="developers"></meta><meta name="topic_tripane" content=""></meta><meta name="version" content=""></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
					function addSearch(){
					//not used with custom or elastic search
					}
				</script><title>Walkthrough: Setting up your full-stack XM Cloud local development environment</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/content-theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="/css/sitecore-custom-default-xmc.css?version=20230630"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js?version=20230630" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js?version=20230630" type="text/javascript"></script><script src="../js/html5-2.js?version=20230630" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="/js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="description" content="Run an XM Cloud-compatible Sitecore XM instance and a client application locally."></meta><link rel="prev" href="preparing-to-run-the-xm-cloud-starter-kit-locally.html#idm45599314137088" title="Hardware guidelines"></link><link rel="next" href="walkthrough--setting-up-your-full-stack-xm-cloud-local-development-environment.html#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4592227580668833069587635322" title="Prepare the environment"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script><script type="text/javascript">var privacypolicy = 'https://www.sitecore.com/trust/privacy-policy';
var consenttype = 'opt-out';
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-72664331-1"></script><script type="text/javascript">const measurementId = 'UA-72664331-1';

						$(document).on('cookies.consented', () => {
							window.dataLayer = window.dataLayer || [];
							function gtag(){dataLayer.push(arguments)};

							gtag('js', new Date());
							gtag('config', measurementId);
						});
					</script><script type="text/javascript" src="../js/cookie-consent.js"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><link href="//customer.cludo.com/assets/2063/10039/cludo-search.min.css" type="text/css" rel="stylesheet"></link></head><body class="theme1 colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="https://doc.sitecore.com/xmc/" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="navbar-collapse collapse" id="navbar"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside xmlns:xinfo="http://ns.expertinfo.se/cms/xmlns/1.0" class="site-sidebar"><div class="site-sidebar-header"><a href="https://doc.sitecore.com/xmc/" target="_blank"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form id="search-form" class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="index-en.html">XM Cloud Documentation for Developers</a></li><li class="breadcrumb-link"><a href="getting-started-with-xm-cloud.html">Getting started with XM Cloud</a></li><li class="breadcrumb-node">Walkthrough: Setting up your full-stack XM Cloud local development environment</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="preparing-to-run-the-xm-cloud-starter-kit-locally.html#idm45599314137088">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="walkthrough--setting-up-your-full-stack-xm-cloud-local-development-environment.html#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4592227580668833069587635322">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-b7059c0b-2f6e-6b86-e02e-1d4c4cc7615f" data-permalink="walkthrough--setting-up-your-full-stack-xm-cloud-local-development-environment.html" data-topic-level="1" data-relative-prefix="" data-time-modified="06/20/2023" data-publication-date="06/30/23" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Walkthrough: Setting up your full-stack XM Cloud local development environment</h1></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Run an XM Cloud-compatible Sitecore XM instance and a client application locally.</p></div></div></div></div><p>When you create an XM Cloud project using the XM Cloud Deploy app and choose the starter template as the source for the initial deployment, the process also adds the starter template to the source control repository you configured for the initial environment.</p><p>You can use the resulting codebase to set up your local development environment based on Docker containers.</p><p>The following video shows you how to set up your environment:</p><div class="mediaobject"><div class="video-container"><div class="videoobject"><iframe style="border:0;" allow="fullscreen *" src="https://www.youtube.com/embed/sVLM1g3Xi-U"></iframe></div></div></div><p>To use the starter template, you must have the following software components on your workstation:</p><div class="itemizedlist" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_itemizedlist-idm1403306958511178"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A valid Sitecore license file.</p></li><li class="listitem"><p>Windows PowerShell 5.1. (PowerShell 7 is not supported at this time).</p></li><li class="listitem"><p>The current long-term support (LTS) version of <a class="link" href="https://nodejs.org/" target="_blank" rel="noopener">Node.js</a>.</p></li><li class="listitem"><p><a class="link" href="https://dotnet.microsoft.com/en-us/download/dotnet/6.0" target="_blank" rel="noopener">.NET Core 6.0 SDK</a> (check your installed version with the <code class="code">dotnet --version</code> command).</p></li><li class="listitem"><p><a class="link" href="https://dotnet.microsoft.com/download/dotnet-framework/net48" target="_blank" rel="noopener">.NET Framework 4.8 SDK</a> (see the <a class="link" href="https://docs.microsoft.com/en-us/dotnet/framework/migration-guide/how-to-determine-which-versions-are-installed" target="_blank" rel="noopener">Microsoft procedure for checking .NET Framework versions</a>).</p></li><li class="listitem"><p><a class="link" href="https://visualstudio.microsoft.com/downloads/" target="_blank" rel="noopener">Visual Studio 2022</a>.</p></li><li class="listitem"><p><a class="link" href="https://docs.docker.com/docker-for-windows/install/" target="_blank" rel="noopener">Docker for Windows</a>, with <span class="emphasis"><em>Windows Containers</em></span> enabled.</p></li><li class="listitem"><p>Any required components for <a class="link linktype-component" href="preparing-to-run-the-xm-cloud-starter-kit-locally.html" title="Preparing to run the XM Cloud starter kit locally">using Sitecore Containers</a>.</p></li></ul></div><p>This walkthrough describes how to:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Prepare the environment.</p></li><li class="listitem"><p>Configure and run the solution.</p></li><li class="listitem"><p>Configure item serialization.</p></li><li class="listitem"><p>Authorize with the XM Cloud organization.</p></li><li class="listitem"><p>Connect an XM Cloud environment.</p></li><li class="listitem"><p>Connect the local environment.</p></li><li class="listitem"><p>Pull serialized items from XM Cloud to your local repository.</p></li><li class="listitem"><p>Push serialized items into the local environment.</p></li><li class="listitem"><p>Configure the editing host for your local environment.</p></li></ul></div><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4592227580668833069587635322"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4592227580668833069587635322_body" data-parent="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4592227580668833069587635322"><div><div class="title"><h2 class="title" style="clear: both">Prepare the environment</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4592227580668833069587635322_body"><p>Before starting the containers, you must ensure the necessary ports are accessible.</p><p>To prepare the environment for running the solution:</p><div class="orderedlist" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_orderedlist-idm1403306959028422"><ol class="orderedlist" type="1"><li class="listitem"><p>Open PowerShell with administrator privileges.</p></li><li class="listitem"><p>Check if you have the Internet Information Server running on port 443:</p><pre class="programlisting">Get-Process -Id (Get-NetTCPConnection -LocalPort 443).OwningProcess</pre><p>If you do, you must stop it:</p><pre class="programlisting">iisreset /stop</pre></li><li class="listitem"><p>Check if you have Apache Solr or any other service running on port 8984:</p><pre class="programlisting">Get-Process -Id (Get-NetTCPConnection -LocalPort 8984).OwningProcess</pre><p>If you do, you must stop it:</p><pre class="programlisting">Stop-Service -Name "&lt;the name of your service&gt;"</pre><p>Alternatively, if you have started it with Non-Sucking Service Manager, stop it with the following command:</p><pre class="programlisting">nssm stop "&lt;the name of your service&gt;"</pre></li></ol></div></div></div></section><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4500422292715233069591036593"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4500422292715233069591036593_body" data-parent="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4500422292715233069591036593"><div><div class="title"><h2 class="title" style="clear: both">Configure and run the solution</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4500422292715233069591036593_body"><p>The starter template contains the software components and scripts to:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Update container images.</p></li><li class="listitem"><p>Build the containers.</p></li><li class="listitem"><p>Set up the necessary hosts.</p></li><li class="listitem"><p>Start the containers.</p></li><li class="listitem"><p>Start the Sitecore XM Content Management (CM) instance.</p></li><li class="listitem"><p>Install the Sitecore CLI and the necessary plugins.</p></li><li class="listitem"><p>Populate the Solr Managed Schemas.</p></li><li class="listitem"><p>Rebuild indexes.</p></li><li class="listitem"><p>Serialize and push developer-managed items to the Sitecore XM instance.</p></li><li class="listitem"><p>Open the CM instance and client app in the browser.</p></li></ul></div><div dir="ltr" class="important"><h3 class="title">Important</h3><p>Even if you plan on running multiple content management instances (multiple projects) locally, the hostname of <span class="emphasis"><em>every instance must follow the <code class="code">*.xmcloudcm.localhost</code> pattern</em></span> for authentication to work correctly. In other words, you can have hostnames such as <code class="code">myproject.xmcloudcm.localhost</code> but not <code class="code">cm.mycompany.localhost</code>.</p></div><p>To set up the template for running locally and start the containers:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Open PowerShell with administrator privileges.</p></li><li class="listitem"><p>In your projects directory, clone the repository you configured for the XM Cloud project.</p></li><li class="listitem"><p>Using a command-line interface, go to the root of your repository folder.</p></li><li class="listitem"><p>To prepare the Sitecore container environment, run the script <code class="code">init.ps1</code> from the root directory of the project:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm453987143247363306957672089">.\init.ps1 -InitEnv -LicenseXmlPath "&lt;C:\path\to\license.xml&gt;" -AdminPassword "&lt;desired password&gt;"</pre><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>If you are not using the Starter Kit, you might not have the <code class="code">init.ps1</code> script in your project. You can copy <a class="link" href="https://github.com/sitecorelabs/xmcloud-foundation-head/blob/main/init.ps1" target="_blank" rel="noopener">the <code class="code">init.ps1</code> script from the Starter Kit repository</a>.</p></div></li><li class="listitem"><p>To download the Sitecore Docker images, install and configure the containers and client application, run the following script:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4644928017593633069577832926">.\up.ps1</pre><div dir="ltr" class="tip" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_tip-idm1403351553964748"><h3 class="title">Tip</h3><p>If you are not using the Starter Kit, you might not have the <code class="code">up.ps1</code> script in your project. You can copy <a class="link" href="https://github.com/sitecorelabs/xmcloud-foundation-head" target="_blank" rel="noopener">the <code class="code">up.ps1</code> script from the Starter Kit repository</a>.</p></div></li><li class="listitem"><p>When prompted, in your browser, log in to the Sitecore XM instance and accept the device authorization.</p></li><li class="listitem"><p>If you are a member of multiple organizations, select the organization for the current project.</p></li><li class="listitem"><p>Wait for the startup script to open browser tabs for the rendered site and the Sitecore Launchpad.</p></li></ol></div><div dir="ltr" class="important"><h3 class="title">Important</h3><p>If you have to reset the state of your containers, you can run the <code class="code">\docker\clean.ps1</code> script. It clears all mounted data and the deployed/copied build output. After running the <code class="code">.\docker\clean.ps1</code> script, you must <a class="link linktype-component" href="rebuild-search-indexes.html" title="Rebuild search indexes">rebuild search indexes</a>.</p></div></div></div></section><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4594364651705633276918497917"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4594364651705633276918497917_body" data-parent="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4594364651705633276918497917"><div><div class="title"><h2 class="title" style="clear: both">Configure item serialization</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4594364651705633276918497917_body"><p>When the local XM Cloud instance is running, if you inspect the content tree using the Content Editor tool, you can see that the local instance of XM Cloud doesn't have any of the items for your new site. When you set up your project, the new site was only created in your remote XM Cloud instance.</p><p>You must, therefore, transfer the site items to your local and remote repositories so that every developer has them available.</p><p>You can synchronize items between environments with Sitecore Serialization. The repository already contains the necessary setup for enabling serialization if you are using an official Sitecore XM Cloud starter template. It also includes the <code class="code">src/renderinghost.module.json</code> file that configures the rendering host item serialization. While developing locally, however, you need additional configuration.</p><p>To create a new serialization configuration:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>In the <code class="code">src</code> folder, create a new serialization module file. Give it a suggestive name, for example, <code class="code">mysite.module.json</code>.</p></li><li class="listitem"><p>Replace the <code class="code">namespace</code> value with a unique value, such as the site name. For example, <code class="code">MySite</code>.</p></li><li class="listitem"><p>Copy the content from the existing serialization module definition as a starting point, and modify the <code class="code">items</code> property to include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The placeholder settings:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4575817146838433682779697732">{
  "name": "layout",
  "path": "/sitecore/layout/Placeholder Settings/Project/placeholdersite",
  "allowedPushOperations": "CreateUpdateAndDelete"
}</pre></li><li class="listitem"><p>The templates created during the deployment process:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4550718632678433276965657883">{
  "name": "templates",
  "path": "/sitecore/Templates/Project/MySite",
  "allowedPushOperations": "CreateUpdateAndDelete"
}</pre></li><li class="listitem"><p>The content item, which includes tenants and sites:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4598542638248033276968380962">{
  "name": "contentRoot",
  "path": "/sitecore/content",
  "allowedPushOperations": "CreateUpdateAndDelete"
}</pre><div dir="ltr" class="caution"><h3 class="title">Caution</h3><p>This configuration serializes the entire content tree because it does not have a single-item scope. When content authors start working on items, you must change this configuration to prevent overwriting their work when performing serialization push operations.</p></div></li><li class="listitem"><p>The media items:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4594364737464033276969822043">{
  "name": "media",
  "path": "/sitecore/Media Library/Project/MySite",
  "allowedPushOperations": "CreateUpdateAndDelete"
}</pre></li></ul></div><p>You can configure additional paths such as renderings, layouts, settings, and more after they are created in the XM Cloud instance.</p></li><li class="listitem"><p>Save the file.</p></li></ol></div></div></div></section><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4531646540488033276989243995"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4531646540488033276989243995_body" data-parent="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4531646540488033276989243995"><div><div class="title"><h2 class="title" style="clear: both">Authorize within the XM Cloud organization</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4531646540488033276989243995_body"><p>Before performing operations against a remote XM Cloud instance, you must authenticate within your XM Cloud organization.</p><p>To authorize the local project in your XM Cloud organization:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Run the following command:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4598542554464033277015763436">dotnet sitecore cloud login</pre><p>Follow the steps in the user interface to log in and authorize your device. When you finalize the authentication process, the connectivity information is stored in the <code class="code">.sitecore/user.json</code> file.</p></li></ul></div></div></div></section><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4591327874785633277019121861"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4591327874785633277019121861_body" data-parent="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4591327874785633277019121861"><div><div class="title"><h2 class="title" style="clear: both">Connect an XM Cloud environment</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4591327874785633277019121861_body"><p>You can connect to one or more remote environments.</p><p>To connect to an XM Cloud environment:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Obtain the ID of your XM Cloud project by running the command:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4594364730100833277026629491">dotnet sitecore cloud project list</pre><p>Identify the XM Cloud project you are working on and copy the ID.</p><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>If you don't have a project, <a class="link linktype-component" href="create-an-xm-cloud-project-from-a-starter-template-in-the-xm-cloud-deploy-app.html" title="Create an XM Cloud project from a starter template in the XM Cloud Deploy app">create an XM Cloud project in the XM Cloud Deploy app</a>.</p></div></li><li class="listitem"><p>Obtain the ID of your XM Cloud environment by running the command:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4609580984587233277027910879">dotnet sitecore cloud environment list --project-id &lt;project-id&gt;</pre><p>Identify the environment you want to connect to and copy the ID.</p></li><li class="listitem"><p>Run the <a class="link linktype-component" href="the-cloud-environment-command.html#UUID-32374c80-d0ca-5780-0826-1b9718cce25c_section-idm1403293480520820" title="The connect subcommand">XM Cloud environment connect</a> command:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4594364725864033277021370057">dotnet sitecore cloud environment connect -id &lt;environment-id&gt; --allow-write true</pre></li></ol></div><p>The process updates the <code class="code">.sitecore/user.json</code> file with the environment connection configuration if the connection is successful. Assuming you named your XM Cloud environment <code class="code">dev</code> , the <code class="code">.sitecore/user.json</code> file now contains a <code class="code">dev</code> key in the <code class="code">endpoints</code> object:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4527185132881633277064225881">{
  "endpoints": {
    "xmCloud": {
      ...
    },
    "dev": {
        "ref": "XMCloud",
        "allowWrite": true,
        "host": "&lt;the environment host&gt;",
        "variables": {}
    }
  }
}</pre></div></div></section><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4550718629056033277031848886"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4550718629056033277031848886_body" data-parent="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4550718629056033277031848886"><div><div class="title"><h2 class="title" style="clear: both">Connect the local environment</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4550718629056033277031848886_body"><p>You connect the local environment with the <a class="link linktype-component" href="the-cli-connect-command.html" title="The CLI connect command">Sitecore CLI connect command</a>.</p><p>To connect:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In a terminal, go to the root directory of the local project and run the following command:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4594364720865633277039060687">dotnet sitecore connect --ref xmcloudlocal --cm https://xmcloudcm.localhost --allow-write true -n local</pre></li></ul></div><p>The process updates the <code class="code">.sitecore/user.json</code> file with the local environment connection configuration:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4527185100649633277069097252">{
  "endpoints": {
    "xmCloud": {
      ...
    },
    "dev": {
      ...
    },
    "local": {
        "ref": "xmcloudlocal",
        "allowWrite": true,
        "host": "https://xmcloudcm.localhost",
        "variables": {}
    }
  }
}</pre></div></div></section><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4537029670428833276986758596"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4537029670428833276986758596_body" data-parent="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4537029670428833276986758596"><div><div class="title"><h2 class="title" style="clear: both">Pull serialized items from XM Cloud to your local repository</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4537029670428833276986758596_body"><p>With authentication/authorization in place and the necessary environment references added to <code class="code">.sitecore/user.json</code>, your local project is ready to perform serialization operations.</p><p>To pull serialized items from the remote XM Cloud environment:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In the terminal, run the Sitecore serialization pull command, specifying the environment name as configured in the <code class="code">.sitecore/user.json</code> file:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4598542685780833277061952479">dotnet sitecore ser pull -n "dev"</pre><p>The command output shows what items have been serialized.</p></li></ul></div><p>Based on your <a class="link" href="walkthrough--setting-up-your-full-stack-xm-cloud-local-development-environment.html#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4594364651705633276918497917" title="Configure item serialization">serialization configuration</a>, the source code now contains the <code class="code">src/items</code> folder with the subfolders <code class="code">content-root</code>, <code class="code">media</code>, and <code class="code">templates</code>.</p></div></div></section><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4537029577739233277076929699"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4537029577739233277076929699_body" data-parent="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4537029577739233277076929699"><div><div class="title"><h2 class="title" style="clear: both">Push serialized items into the local environment</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4537029577739233277076929699_body"><p>Now that you have the serialized items created in your remote XM Cloud environment in your local repository, you can push them into your local XM instance.</p><p>To push the serialized items into your locally running XM instance:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In the terminal, run the Sitecore serialization push command, specifying the local environment name as configured in the <code class="code">.sitecore/user.json</code> file:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4594364648012833277079242146">dotnet sitecore ser push -n "local"</pre></li></ul></div><p>You can see the new items in your locally running XM instance when the operation is complete. You can now commit and push the serialized items to your remote version control repository.</p><div dir="ltr" class="note" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_note-idm1403328887864006"><h3 class="title">Note</h3><p>The command <code class="code">serialization push</code> (<code class="code">ser push</code>) does not publish items. You must manually publish them.</p></div></div></div></section><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4586720101020833288770109979"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4586720101020833288770109979_body" data-parent="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4586720101020833288770109979"><div><div class="title"><h2 class="title" style="clear: both">Configure the editing host for your local environment</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4586720101020833288770109979_body"><p>If you try to open an item in the Experience Editor at this time, you get an error message because the rendering host application is not set up for local development. Because the solution is based on Sitecore Experience Accelerator (SXA), you can configure the rendering host using items.</p><p>To configure the rendering host:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In the content tree, under your new site, in the <span class="emphasis"><em>Settings</em></span> item, in the <span class="guilabel">App Settings</span> section, verify that the <span class="guilabel">App Name</span> field contains the name of your application. This name must match the <code class="code">config.appName</code> setting in the <code class="code">src/&lt;app-folder&gt;/package.json</code> file of the front-end app.</p><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>If you used the SXA-enabled starter template, the <code class="code">&lt;app-folder&gt;</code> is <code class="code">sxastarter</code>.</p></div></li><li class="step"><p>In your site's tree of items, in the <span class="emphasis"><em>/content/&lt;SiteName&gt;/&lt;AppName&gt;/Settings/Site Grouping/&lt;your-site&gt;</em></span> item, in the <span class="guilabel">Settings</span> section, in the <span class="guilabel">Predefined application rendering host</span> field, verify that the field references the default rendering host.</p></li><li class="step"><p>In the <span class="emphasis"><em>/System/Settings/Services/Rendering Hosts/Default</em></span> item that contains the default rendering host definition, in the <span class="guilabel">Data</span> section, in the <span class="guilabel">Application name</span> field, verify that the application name is correct. If not, change it to match the <code class="code">config.appName</code> setting in the <code class="code">package.json</code> file of your rendering app.</p><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>You can also leave the field blank. That way, the field uses, by default, the value you configured in step 1.</p></div></li><li class="step"><p>Right-click the <span class="emphasis"><em>/System/Settings/Services/Rendering Hosts/</em></span> item and click <span class="guilabel">Insert</span> then <span class="guilabel">Rendering host</span>.</p></li><li class="step"><p>In the <span class="guilabel">Message</span> dialog, enter the name of your configuration. For example, <span class="emphasis"><em>Local</em></span>.</p></li><li class="step"><p>Open the <span class="emphasis"><em>/System/Settings/Services/Rendering Hosts/Local</em></span> configuration in the <span class="guilabel">Data</span> section, and fill in the fields as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In the <span class="guilabel">Server side rendering engine endpoint URL</span> field, enter the URL to the front-end app's API route for rendering in editing mode. For example, <code class="code">http://rendering:3000/api/editing/render</code>.</p><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>You can derive the value for this field from the <code class="code">RENDERING_HOST_INTERNAL_URI</code> environment variable defined in the <code class="code">docker-compose.override.yml</code> file in the root of your project, usually <code class="code">http://rendering:3000</code>, and the Next.js API route for rendering the app in editing mode (always <code class="code">/api/editing/render</code>).</p></div></li><li class="listitem"><p>In the <span class="guilabel">Server side rendering engine application URL</span> field, enter the value of the <code class="code">RENDERING_HOST_INTERNAL_URI</code> environment variable.</p></li><li class="listitem"><p>In the <span class="guilabel">Application name</span> field, enter the name of your front-end application as configured in the <code class="code">package.json</code> file.</p></li></ul></div></li><li class="step"><p>Save the item.</p></li><li class="step"><p>In your site's tree of items, in the <span class="emphasis"><em>/content/&lt;sitename&gt;/&lt;appname&gt;/Settings/Site Grouping/&lt;appname&gt;</em></span> item, in the <span class="guilabel">Settings</span> section, the <span class="guilabel">Predefined application rendering host</span> field, select the <span class="guilabel">Local</span> rendering host definition and save the item.</p><div dir="ltr" class="important"><h3 class="title">Important</h3><p>This item must not be overwritten in your remote instances.</p></div></li><li class="step"><p>Run the following <a class="link linktype-component" href="sitecore-javascript-rendering-sdk-cli-tools-api-reference.html#UUID-d1481c73-2964-5c90-33d7-ba05eb856399_UUID-a864ec7d-b832-6845-9146-977976f529f0" title="jss setup">CLI command</a> to create a <code class="code">scjssconfig.json</code> file with the ID of the API key item (the item ID for <code class="code">/sitecore/system/Settings/Services/API Keys/xmcloudpreview</code>), and the Sitecore hostname (<code class="code">https://xmcloudcm.localhost</code>) in the default installation location:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4517193226763233743944375816">jss setup</pre></li><li class="step"><p>Go to your rendering host directory (<code class="code">sxastarter</code>) and start the front-end application in connected mode with the command:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4640148671252833288872759551">npm run start:connected</pre></li><li class="step"><p>To verify your setup, open a content item in the Experience Editor. If your rendering host is running and your setup is correct, your rendering host must be <a class="link" href="walkthrough--setting-up-your-full-stack-xm-cloud-local-development-environment.html#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm4640148671252833288872759551">running in connected mode</a>.</p></li></ol></div><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Instead of creating a new rendering host definition, you can modify the default definition field values in your local environment. If you do so, you must <span class="emphasis"><em>ensure that you do not overwrite the default configuration in your remote instance</em></span>.</p></div></div></div></section><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm1403328886933112"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm1403328886933112_body" data-parent="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm1403328886933112"><div><div class="title"><h2 class="title" style="clear: both">Next steps</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm1403328886933112_body"><p>With this setup complete, you can start developing your XM Cloud solution and your front-end application.</p><p>As you work, you can use the <a class="link linktype-component" href="sitecore-command-line-interface-reference.html" title="Sitecore Command Line Interface reference">Sitecore CLI</a> to perform common development tasks such as:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="link linktype-component" href="deploy-customizations-to-the-xm-cloud-environment.html" title="Deploy customizations to the XM Cloud environment">Upload your solution customizations</a>.</p></li><li class="listitem"><p><a class="link linktype-component" href="walkthrough--synchronizing-items-between-remote-and-local-xm-cloud-instances-with-the-sitecore-cli.html" title="Walkthrough: Synchronizing items between remote and local XM Cloud instances with the Sitecore CLI">Synchronize items between the local and the remote instances</a>.</p></li><li class="listitem"><p><a class="link linktype-component" href="walkthrough--publishing-and-validating-content-on-an-xm-cloud-content-management-instance.html" title="Walkthrough: Publishing and validating content on an XM Cloud Content Management instance">Publish and validate published content</a>.</p></li></ul></div><p>For front-end development, start the front-end application in connected mode by navigating to your rendering host directory (<code class="code">sxastarter</code>) and running the command:</p><pre class="programlisting" id="UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_programlisting-idm1403328903620890">npm run start:connected</pre></div></div></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f">Walkthrough: Setting up your full-stack XM Cloud local development environment</a></li><li><a href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4592227580668833069587635322">Prepare the environment</a></li><li><a href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4500422292715233069591036593">Configure and run the solution</a></li><li><a href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4594364651705633276918497917">Configure item serialization</a></li><li><a href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4531646540488033276989243995">Authorize within the XM Cloud organization</a></li><li><a href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4591327874785633277019121861">Connect an XM Cloud environment</a></li><li><a href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4550718629056033277031848886">Connect the local environment</a></li><li><a href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4537029670428833276986758596">Pull serialized items from XM Cloud to your local repository</a></li><li><a href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4537029577739233277076929699">Push serialized items into the local environment</a></li><li><a href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4586720101020833288770109979">Configure the editing host for your local environment</a></li><li><a href="#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm1403328886933112">Next steps</a></li></ul></aside></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="preparing-to-run-the-xm-cloud-starter-kit-locally.html#idm45599314137088">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="walkthrough--setting-up-your-full-stack-xm-cloud-local-development-environment.html#UUID-462b259c-2cf5-71ad-482b-bb88e922df8f_section-idm4592227580668833069587635322">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023 Sitecore </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">06/20/2023</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date">06/30/23</span></div></div></footer></div></div></div></div><script type="text/javascript" src="//customer.cludo.com/scripts/bundles/search-script.min.js"></script><script>
			var CludoSearch;
			(function () {
			var cludoSettings = {
			customerId: 2063,
			engineId: 12826,
			language: 'en',
			searchInputs: ["search-form","cludo-search-content-form","cludo-search-mobile-form"],
			hideSearchFilters: true,
			type: 'standardOverlay',
			facets: ["Category", "ProductVer", "Product", "Version"],
			useStandardSearchTemplate: false,
			customerTemplate: "OverlayCopy",
			searchApiUrl: 'https://api-eu1.cludo.com/api/v3'
			};
			CludoSearch= new Cludo(cludoSettings);
			CludoSearch.init();
			})();
		</script><!-- www.Cludo.com Search body init script start --></body></html>
