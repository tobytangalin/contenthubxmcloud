<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="Audience - do not use" content=""></meta><meta name="clubot" content=""></meta><meta name="data model" content=""></meta><meta name="DxP type - Do Not Use" content=""></meta><meta name="media_icon" content=""></meta><meta name="product" content="XM Cloud"></meta><meta name="Publishing target" content="Production"></meta><meta name="Ready for publishing - do not use" content=""></meta><meta name="role" content="developers"></meta><meta name="topic_tripane" content=""></meta><meta name="version" content=""></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
					function addSearch(){
					//not used with custom or elastic search
					}
				</script><title>The Component Factory</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/content-theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="/css/sitecore-custom-default-xmc.css?version=20230630"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js?version=20230630" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js?version=20230630" type="text/javascript"></script><script src="../js/html5-2.js?version=20230630" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="/js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="description" content="Introducing the JSS Component Factory"></meta><link rel="prev" href="scaffolding-components-in-jss-apps.html#UUID-f94409c3-6d37-712b-458d-112a351a1f94_section-idm4593467399172832670408378001" title="Create components by path"></link><link rel="next" href="the-component-factory.html#idm45599297519040" title="Generating the Component Factory"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script><script type="text/javascript">var privacypolicy = 'https://www.sitecore.com/trust/privacy-policy';
var consenttype = 'opt-out';
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-72664331-1"></script><script type="text/javascript">const measurementId = 'UA-72664331-1';

						$(document).on('cookies.consented', () => {
							window.dataLayer = window.dataLayer || [];
							function gtag(){dataLayer.push(arguments)};

							gtag('js', new Date());
							gtag('config', measurementId);
						});
					</script><script type="text/javascript" src="../js/cookie-consent.js"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><link href="//customer.cludo.com/assets/2063/10039/cludo-search.min.css" type="text/css" rel="stylesheet"></link></head><body class="theme1 colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="https://doc.sitecore.com/xmc/" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="navbar-collapse collapse" id="navbar"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside xmlns:xinfo="http://ns.expertinfo.se/cms/xmlns/1.0" class="site-sidebar"><div class="site-sidebar-header"><a href="https://doc.sitecore.com/xmc/" target="_blank"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form id="search-form" class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="index-en.html">XM Cloud Documentation for Developers</a></li><li class="breadcrumb-link"><a href="sitecore-javascript-rendering-sdks--jss-.html">Sitecore JavaScript Rendering SDKs (JSS)</a></li><li class="breadcrumb-link"><a href="architecture-overview.html">Architecture overview</a></li><li class="breadcrumb-link"><a href="page-composition-in-jss-apps-using-sitecore-data.html">Page composition in JSS apps using Sitecore data</a></li><li class="breadcrumb-link"><a href="components-in-jss-apps.html">Components in JSS apps</a></li><li class="breadcrumb-node">The Component Factory</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="scaffolding-components-in-jss-apps.html#UUID-f94409c3-6d37-712b-458d-112a351a1f94_section-idm4593467399172832670408378001">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="the-component-factory.html#idm45599297519040">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-46ecaf7e-69ba-577f-07cc-6c18480b3ac8" data-permalink="the-component-factory.html" data-topic-level="1" data-relative-prefix="" data-time-modified="06/26/2023" data-publication-date="06/30/23" id="UUID-633e4bbe-1760-71e0-b418-ca1f66cb3f48"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">The Component Factory</h1></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Introducing the JSS Component Factory</p></div></div></div></div><p>When a JSS app renders a page, it traverses the layout data JSON fetched from Sitecore to figure out what components to render on the page. However, without a way to match Sitecore rendering names to JSS components, the page can not render.</p><p>The Component Factory is a mapping between Sitecore renderings and their JSS component implementations that JSS apps use to match renderings to components. Every JSS sample application has a Component Factory implementation - a JavaScript function that accepts a rendering name as a parameter and returns the associated JSS component.</p><p>The following is a simplified example of a Component Factory:</p><pre class="programlisting typescript" data-language="typescript">import * as ContentBlock from 'src/components/ContentBlock';
import * as AnotherComponent from 'src/components/AnotherComponent';

const components = new Map();
components.set('ContentBlock', ContentBlock);
components.set('AnotherComponent', AnotherComponent);

export function componentModule(componentName: string) {
  return components.get(componentName);
};

export function componentFactory(componentName: string) {
  return components.get(componentName)?.default;
};</pre><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="idm45599297519040"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Generating the Component Factory</h2></div></div></div><p>For most JSS sample applications, the Component Factory is generated programmatically at build time by recursively inspecting the application's directory of components. The logic for generating the mapping in the Component Factory is defined in the <code class="code">scripts/generate-component-factory.[ts|js]</code> file. You can customize this file to support different project structures and it can work with flat or nested directory structures.</p><p>Programmatic generation of the Component Factory is not required, but it makes development easier by eliminating the need to register new components manually.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>For JSS React Native applications, a sample Component Factory is defined in <code class="code">src/componentFactory.js</code>. You must maintain the mapping manually.</p></div><p>When running the application on a local development server, the application watches for changes to the components directory and updates the Component Factory with new components automatically.</p><p>For JSS Angular applications, the Component Factory is generated at the path <code class="code">src/app/components/app-components.module.ts</code>, when you run the application for the first time.</p><p>For JSS Next.js applications, the Component Factory is generated at the path <code class="code">src/temp/componentFactory.ts</code>, when you run the application for the first time.</p><p>For JSS React and Vue.js applications, the Component Factory is generated at the path <code class="code">src/temp/componentFactory.js</code>, when you run the application for the first time.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="06/30/23" id="UUID-633e4bbe-1760-71e0-b418-ca1f66cb3f48_section-idm4593467477300832670510845305"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">The Component Factory and granular components</h2></div></div></div><p>Modern development practices recommend using granular components - where every component has a single clear responsibility.</p><p>Sitecore renderings are an authoring concept, while JSS components are a developer concept. In most cases, a Sitecore rendering and a JSS component represent the same thing, but you might prefer smaller, more contained components to represent the same data as a corresponding Sitecore rendering would.</p><p>For example, consider a rendering for displaying search results. For content authors, the entire search results area is a single user-interface element. For front-end developers, however, a search results display area is a composition of components. For example, there is a component for the search results container, a component for every result list item, and possibly components for different sections of results. Because content authors do not need to manage multiple variations of search results, they would see no value from breaking up the rendering into smaller elements. Such an approach would complicate their work. But not doing so, while creating the granular components in JSS, results in components without matching Sitecore renderings.</p><p>In conclusion, the components mapped in the Component Factory must match the Sitecore rendering as the content author sees it. When you create granular components to build the search results component for the rendering, we recommend that you do not include those components in the Component Factory or use placeholders to work around the issue.</p><p>Instead, we recommend that you place your granular components in a different directory than all other components. Assuming that in your JSS applications, the principal components directory is <code class="code">src/components</code>, you could place your development-only components in directories such as <code class="code">src/helpers</code> and <code class="code">src/containers</code>.</p><p>Because the Component Factory only inspects the main directory for components, in this case, <code class="code">src/components</code>, it will not attempt to map any of the components you include in <code class="code">src/helpers</code> and <code class="code">src/containers</code> to nonexistent Sitecore renderings.</p></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-633e4bbe-1760-71e0-b418-ca1f66cb3f48">The Component Factory</a></li><li><a href="#idm45599297519040">Generating the Component Factory</a></li><li><a href="#UUID-633e4bbe-1760-71e0-b418-ca1f66cb3f48_section-idm4593467477300832670510845305">The Component Factory and granular components</a></li></ul></aside></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="scaffolding-components-in-jss-apps.html#UUID-f94409c3-6d37-712b-458d-112a351a1f94_section-idm4593467399172832670408378001">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="the-component-factory.html#idm45599297519040">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> Â© 2023 Sitecore </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">06/26/2023</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date">06/30/23</span></div></div></footer></div></div></div></div><script type="text/javascript" src="//customer.cludo.com/scripts/bundles/search-script.min.js"></script><script>
			var CludoSearch;
			(function () {
			var cludoSettings = {
			customerId: 2063,
			engineId: 12826,
			language: 'en',
			searchInputs: ["search-form","cludo-search-content-form","cludo-search-mobile-form"],
			hideSearchFilters: true,
			type: 'standardOverlay',
			facets: ["Category", "ProductVer", "Product", "Version"],
			useStandardSearchTemplate: false,
			customerTemplate: "OverlayCopy",
			searchApiUrl: 'https://api-eu1.cludo.com/api/v3'
			};
			CludoSearch= new Cludo(cludoSettings);
			CludoSearch.init();
			})();
		</script><!-- www.Cludo.com Search body init script start --></body></html>
