<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="Audience - do not use" content=""></meta><meta name="clubot" content=""></meta><meta name="data model" content=""></meta><meta name="DxP type - Do Not Use" content=""></meta><meta name="media_icon" content=""></meta><meta name="product" content="XM Cloud"></meta><meta name="Publishing target" content="Production"></meta><meta name="Ready for publishing - do not use" content=""></meta><meta name="role" content="developers"></meta><meta name="topic_tripane" content=""></meta><meta name="version" content=""></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
					function addSearch(){
					//not used with custom or elastic search
					}
				</script><title>Walkthrough: Connecting the Next.js application directly to the Experience Edge endpoint</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/content-theme1.css?version=20230630"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="/css/sitecore-custom-default-xmc.css?version=20230630"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js?version=20230630" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js?version=20230630" type="text/javascript"></script><script src="../js/html5-2.js?version=20230630" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="/js/layout-custom-script.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="description" content="Set up your local front-end development on operating systems that don't support Windows containers"></meta><link rel="prev" href="connect-sitecore-pages-to-your-local-xm-cloud-instance.html" title="Connect Sitecore Pages to your local XM Cloud instance"></link><link rel="next" href="walkthrough--connecting-the-next-js-application-directly-to-the-experience-edge-endpoint.html#UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732388460833289074353123" title="Connect the application to the Edge endpoint"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script><script type="text/javascript">var privacypolicy = 'https://www.sitecore.com/trust/privacy-policy';
var consenttype = 'opt-out';
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-72664331-1"></script><script type="text/javascript">const measurementId = 'UA-72664331-1';

						$(document).on('cookies.consented', () => {
							window.dataLayer = window.dataLayer || [];
							function gtag(){dataLayer.push(arguments)};

							gtag('js', new Date());
							gtag('config', measurementId);
						});
					</script><script type="text/javascript" src="../js/cookie-consent.js"></script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><link href="//customer.cludo.com/assets/2063/10039/cludo-search.min.css" type="text/css" rel="stylesheet"></link></head><body class="theme1 colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="https://doc.sitecore.com/xmc/" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="navbar-collapse collapse" id="navbar"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside xmlns:xinfo="http://ns.expertinfo.se/cms/xmlns/1.0" class="site-sidebar"><div class="site-sidebar-header"><a href="https://doc.sitecore.com/xmc/" target="_blank"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form id="search-form" class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="index-en.html">XM Cloud Documentation for Developers</a></li><li class="breadcrumb-link"><a href="getting-started-with-xm-cloud.html">Getting started with XM Cloud</a></li><li class="breadcrumb-node">Walkthrough: Connecting the Next.js application directly to the Experience Edge endpoint</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="connect-sitecore-pages-to-your-local-xm-cloud-instance.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="walkthrough--connecting-the-next-js-application-directly-to-the-experience-edge-endpoint.html#UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732388460833289074353123">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-b90b1eb0-c983-37cf-abb4-79ca170bbfc4" data-permalink="walkthrough--connecting-the-next-js-application-directly-to-the-experience-edge-endpoint.html" data-topic-level="1" data-relative-prefix="" data-time-modified="03/07/2023" data-publication-date="06/30/23" id="UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">Walkthrough: Connecting the Next.js application directly to the Experience Edge endpoint</h1></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Set up your local front-end development on operating systems that don't support Windows containers</p></div></div></div></div><p>The XM Cloud starter kit contains a JSS Next.js front-end application. You can <a class="link linktype-component" href="walkthrough--setting-up-your-full-stack-xm-cloud-local-development-environment.html" title="Walkthrough: Setting up your full-stack XM Cloud local development environment">run XM Cloud CM locally for development purposes</a>, but it requires Docker with <span class="emphasis"><em>Windows Containers</em></span> enabled.</p><p>As a front-end developer, you might be using a different operating system and, therefore, can not run the full XM Cloud solution locally. Furthermore, you might only be responsible for developing the front-end applications and only need access to the latest layout and content data.</p><p>You can run your local Node.js server and connect the application directly to the remote <a class="link linktype-component" href="sitecore-experience-edge-for-xm.html" title="Sitecore Experience Edge for XM">Experience Edge</a> endpoint.</p><p>The following video shows you how to set up your local front-end development environment:</p><div class="mediaobject"><div class="video-container"><div class="videoobject"><iframe style="border:0;" allow="fullscreen *" src="https://www.youtube.com/embed/Kig3kWZ8FuQ"></iframe></div></div></div><p>This walkthrough describes how to:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Connect the application to the Edge endpoint.</p></li><li class="listitem"><p>Start the client application and verify the integration.</p></li></ul></div><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732388460833289074353123"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732388460833289074353123_body" data-parent="#UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732388460833289074353123"><div><div class="title"><h2 class="title" style="clear: both">Connect the application to the Edge endpoint</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732388460833289074353123_body"><p><a class="link linktype-component" href="sitecore-experience-manager-cloud.html" title="Sitecore Experience Manager Cloud">Sitecore Experience Manager Cloud (XM Cloud)</a> is a Software-as-a-Service (SaaS) tool that provides you with content and layout information headlessly through Experience Edge. This means that you can build your front-end application against the Edge endpoint.</p><p>To connect the application to the Edge endpoint:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Open the XM Cloud project folder with Visual Studio Code.</p></li><li class="step"><p>Go to the rendering app root folder <code class="code">sxastarter</code>.</p></li><li class="step"><p>Create a copy of the existing .env file and name it .env.local. The .env.local file is ignored by version control systems by default so that you don't accidentally commit local changes to your remote repository.</p></li><li class="step"><p>Edit the following environment variable values:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>SITECORE_API_KEY - the <span class="emphasis"><em>Edge API key</em></span>. If you have already deployed the application to Vercel, copy the token from your Vercel environment variables. Otherwise, <a class="link linktype-component" href="generate-an-edge-api-key.html" title="Generate an Edge API key">generate an Edge API key</a>.</p></li><li class="listitem"><p>GRAPH_QL_ENDPOINT - <code class="code">https://edge.sitecorecloud.io/api/graphql/v1</code>. This endpoint is the same as the one used for deploying the application on Vercel.</p></li><li class="listitem"><p>JSS_APP_NAME - the name of the site.</p></li></ul></div></li><li class="step"><p>Enable debugging by uncommenting the line containing <code class="code">DEBUG=sitecore-jss:*,-sitecore-jss:layout</code></p></li></ol></div></div></div></section><section dir="ltr" class="section accordion" data-origin-id="" data-publication-date="06/30/23" id="UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732409846433288866651353"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732409846433288866651353_body" data-parent="#UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732409846433288866651353"><div><div class="title"><h2 class="title" style="clear: both">Start the client application and verify the integration</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732409846433288866651353_body"><p>To develop client applications, you must be familiar with the technology used by the application and the corresponding <a class="link linktype-component" href="sitecore-javascript-rendering-sdks--jss-.html" title="Sitecore JavaScript Rendering SDKs (JSS)">JavaScript SDK</a>. To take advantage of development experience features such as hot code reloading and to use data from your locally running XM Cloud instance, you must start the application in connected development mode.</p><p>To start the application:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In a command-line tool window, from the root of your XM Cloud project working directory, go to the directory of the front-end application, for example, <code class="code">src/sxastarter</code>.</p></li><li class="step"><p>Install the dependencies for the application with the command:</p><pre class="programlisting" id="UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_programlisting-idm4640148646156833289193188687">npm install</pre></li><li class="step"><p>In a separate terminal window, go to the directory of the front-end application, and run the following command:</p><pre class="programlisting" id="UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_programlisting-idm4584880823244833083082411947">npm run start:connected</pre></li><li class="step"><p>To verify that you are running your application against the remote Edge endpoint, make a content change in one of the pages in your remote XM Cloud CM instance. Save and publish the page. Reload the page to see the changes in your browser window serving the local rendering host.</p></li><li class="step"><p>Make a small but visible change in your app code. The change should become instantly visible in your local rendering host window without reloading.</p></li></ol></div></div></div></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d">Walkthrough: Connecting the Next.js application directly to the Experience Edge endpoint</a></li><li><a href="#UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732388460833289074353123">Connect the application to the Edge endpoint</a></li><li><a href="#UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732409846433288866651353">Start the client application and verify the integration</a></li></ul></aside></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="connect-sitecore-pages-to-your-local-xm-cloud-instance.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="walkthrough--connecting-the-next-js-application-directly-to-the-experience-edge-endpoint.html#UUID-c90978a4-8b2d-4de2-7644-9b9a573b913d_section-idm4598732388460833289074353123">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023 Sitecore </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">03/07/2023</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date">06/30/23</span></div></div></footer></div></div></div></div><script type="text/javascript" src="//customer.cludo.com/scripts/bundles/search-script.min.js"></script><script>
			var CludoSearch;
			(function () {
			var cludoSettings = {
			customerId: 2063,
			engineId: 12826,
			language: 'en',
			searchInputs: ["search-form","cludo-search-content-form","cludo-search-mobile-form"],
			hideSearchFilters: true,
			type: 'standardOverlay',
			facets: ["Category", "ProductVer", "Product", "Version"],
			useStandardSearchTemplate: false,
			customerTemplate: "OverlayCopy",
			searchApiUrl: 'https://api-eu1.cludo.com/api/v3'
			};
			CludoSearch= new Cludo(cludoSettings);
			CludoSearch.init();
			})();
		</script><!-- www.Cludo.com Search body init script start --></body></html>
